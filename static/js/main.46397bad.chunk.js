(this["webpackJsonpstudent-app"]=this["webpackJsonpstudent-app"]||[]).push([[0],{146:function(e,t){},148:function(e,t){},162:function(e,t){},164:function(e,t){},192:function(e,t){},194:function(e,t){},195:function(e,t){},201:function(e,t){},203:function(e,t){},221:function(e,t){},223:function(e,t){},235:function(e,t){},238:function(e,t){},259:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"Page",(function(){return D})),n.d(r,"name",(function(){return F})),n.d(r,"id",(function(){return H})),n.d(r,"ListPreview",(function(){return B}));var c={};n.r(c),n.d(c,"Page",(function(){return $})),n.d(c,"name",(function(){return Z})),n.d(c,"id",(function(){return K})),n.d(c,"ListPreview",(function(){return Q}));var a=n(5),s=n(0),o=n(1),i=n.n(o),u=n(133),l=n.n(u),d=n(46),j=n(7),b=n(136),h=n(6),f=n.n(h),p=n(11),v=n(134),O=n.n(v),m=i.a.createContext({user:null,setUser:function(){}});function g(e){var t=Object(o.useState)(),n=Object(a.a)(t,2),r=n[0],c=n[1],i=Object(o.useState)(),u=Object(a.a)(i,2),l=u[0],d=u[1],j=Object(o.useState)(!1),b=Object(a.a)(j,2),h=b[0],v=b[1],g=Object(o.useState)(!1),x=Object(a.a)(g,2),w=x[0],k=x[1],y=Object(o.useContext)(m).setUser,N=function(e,t){e((function(e){var n=t.target.value.replace(/[^a-zA-Z\-']/,"");return n.length<20?n:e}))},z=Object(o.useCallback)(function(){var t=Object(p.a)(f.a.mark((function t(n){var c,a,s,o,i,u,d;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&l){t.next=3;break}return k("missing name"),t.abrupt("return");case 3:return v(n?"create":"login"),c={first:r,last:l},a="".concat("https://immense-everglades-63113.herokuapp.com/api","/students")+(n?"":"/login"),t.next=8,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 8:if(s=t.sent,v(!1),!s.ok){t.next=28;break}return k(!1),t.prev=12,t.next=15,s.json();case 15:o=t.sent.token,i=O.a.decode(o),u=i.student,d={token:o,student:u},sessionStorage.setItem("mcub-student-user",JSON.stringify(d)),y(d),e.history.push("/"),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(12),console.log(t.t0);case 26:t.next=29;break;case 28:404===s.status||403===s.status?k(s.status):console.log("HTTP error, status = "+s.status);case 29:case"end":return t.stop()}}),t,null,[[12,23]])})));return function(e){return t.apply(this,arguments)}}(),[r,l,e.history,y]),S=Object(o.useCallback)((function(e){"Enter"===e.key&&z(!1)}),[z]);return Object(o.useEffect)((function(){return window.addEventListener("keydown",S),function(){return window.removeEventListener("keydown",S)}}),[S]),Object(s.jsx)("div",{className:"login-container",children:Object(s.jsxs)("div",{className:"login-window",children:[h?Object(s.jsx)("div",{className:"fetching-indicator",children:"create"===h?"Creating new user...":"Logging in..."}):null,w?Object(s.jsx)("p",{className:"login-error",children:404===w?"User not found. Please try again or create a new user.":403===w?"User already exists.":"missing name"===w?"Please enter both your first and last name.":"An error occurred, please try again."}):null,Object(s.jsxs)("div",{className:"name-container first",children:[Object(s.jsx)("label",{htmlFor:"firstname",children:"First Name:"}),Object(s.jsx)("input",{type:"text",name:"firstname",id:"firstname",value:r,onChange:N.bind(null,c)})]}),Object(s.jsxs)("div",{className:"name-container last",children:[Object(s.jsx)("label",{htmlFor:"lastname",children:"Last Name:"}),Object(s.jsx)("input",{type:"text",name:"lastname",id:"lastname",value:l,onChange:N.bind(null,d)})]}),Object(s.jsx)("button",{className:"create-student",onClick:function(){return z(!0)},children:"Create"}),Object(s.jsx)("button",{className:"login-student",onClick:function(){return z(!1)},children:"Log-In"})]})})}var x=n(16);function w(e){var t=e.history,n=e.instanceList.sort(y);return Object(s.jsx)("div",{className:"calcudoku-page-container",children:Object(s.jsx)("div",{className:"instance-list-container",children:0===n.length?Object(s.jsx)("h2",{className:"fetching-indicator",children:"Loading..."}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Calcudokus"}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{onClick:function(){return t.push("/calcudoku/instructions")},children:Object(s.jsx)("h3",{children:"Instructions"})},"instructions"),n.map(k.bind(null,t))]})]})})})}function k(e,t){var n,r=t.instance,c=t.title;return Object(s.jsx)("li",{onClick:function(){return e.push("/calcudoku/".concat(r))},children:Object(s.jsx)("h3",{children:(n=c,n.replace(/^./,(function(e){return e.toUpperCase()})))})},r)}function y(e,t){var n=e.instance,r=t.instance,c=n.match(/^(\d)x\d([a-z]+)(\d+)$/),s=Object(a.a)(c,4),o=s[1],i=s[2],u=s[3],l=r.match(/^(\d)x\d([a-z]+)(\d+)$/),d=Object(a.a)(l,4),j=d[1],b=d[2],h=d[3];return o<j?-1:j>o?1:"beginner"===i&&["intermediate","expert"].includes(b)||"intermediate"===i&&"expert"===b||i===b&&u<h?-1:1}var N=n(36),z={"-":"-","+":"+","*":"x","/":"\xf7"};function S(e){var t=Object(o.useMemo)((function(){return e.name}),[e.name]),n=Object(o.useMemo)((function(){return"calcudoku-instance-data-".concat(t)}),[t]),r=Object(o.useState)(null),c=Object(a.a)(r,2),i=c[0],u=c[1],l=Object(o.useState)(null),d=Object(a.a)(l,2),j=d[0],b=d[1],h=Object(o.useState)(null),v=Object(a.a)(h,2),O=v[0],g=v[1],x=Object(o.useState)(null),w=Object(a.a)(x,2),k=w[0],y=w[1],z=Object(o.useContext)(m).user.token,S="".concat("https://immense-everglades-63113.herokuapp.com/api","/puzzles/calcudoku/").concat(t);Object(o.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem(n));if(e)return u(e.size),b(C(e)),void y("saved");Object(p.a)(f.a.mark((function e(){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S,{method:"GET",headers:{authorization:z}});case 2:if(!(t=e.sent).ok){e.next=20;break}return e.prev=4,e.next=7,t.json();case 7:r=e.sent,sessionStorage.setItem(n,JSON.stringify(r)),u(r.size),b(C(r)),y("saved"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),b([]),console.log(e.t0);case 18:e.next=21;break;case 20:console.log("HTTP error, status = "+t.status);case 21:case"end":return e.stop()}}),e,null,[[4,14]])})))()}),[S,z,n]),Object(o.useEffect)((function(){var e="".concat("https://immense-everglades-63113.herokuapp.com/api","/activepuzzle");return Object(p.a)(f.a.mark((function n(){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:z},body:JSON.stringify({puzzleName:"calcudoku",puzzleId:t})});case 2:r=n.sent,console.log(r.status);case 4:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:z}})}}),[z,t]);var E=function(){var e=Object(p.a)(f.a.mark((function e(){var t,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y("saving"),t=j.map((function(e){return{col:e.col,row:e.row,value:e.value}})),e.next=4,fetch(S,{method:"PUT",headers:{"Content-Type":"application/json",authorization:z},body:JSON.stringify({puzzleData:t})});case 4:r=e.sent,(c=JSON.parse(sessionStorage.getItem(n))).work=t,sessionStorage.setItem(n,JSON.stringify(c)),r.ok?y("saved"):y("error"),console.log(r.status);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t=e.key;if(O){if(!isNaN(t)&&1<=t&&t<=i)O.value=t;else{var n=O.col,r=O.row;switch(t){case"Backspace":case"Delete":O.value="";break;case"ArrowUp":return void g(j.find(T({col:n-1,row:r}))||O);case"ArrowDown":return void g(j.find(T({col:n+1,row:r}))||O);case"ArrowLeft":return void g(j.find(T({col:n,row:r-1}))||O);case"ArrowRight":return void g(j.find(T({col:n,row:r+1}))||O);default:return}}b(Object(N.a)(j)),E()}else["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t)&&g(j.find(T({col:0,row:0})))};Object(o.useEffect)((function(){return window.addEventListener("keydown",L),function(){return window.removeEventListener("keydown",L)}}));var I=function(e){return Object(s.jsx)("button",{className:"number-select",onClick:function(){O.value=e,b(Object(N.a)(j)),E()},children:e},"num".concat(e))};return Object(s.jsx)("div",{children:j?Object(s.jsxs)("div",{className:"puzzle-container",size:i,children:[Object(s.jsx)("div",{className:"saving-indicator",children:"saving"===k?"Saving...":"error"===k?"An error occurred while saving.":"saved"===k?"Saved.":" "}),Object(s.jsx)("div",{className:"grid-container",size:i,children:j.map((function(e){var t="calcudoku-square "+e.neighbors.join(" ")+(e===O?" active":"");return Object(s.jsxs)("div",{className:t,onClick:function(){return g(e)},children:[Object(s.jsxs)("div",{className:"cage-indicator",children:[e.result,e.operation]}),Object(s.jsx)("input",{type:"number",value:e.value||"",disabled:!0}),Object(s.jsx)("div",{className:"selector"})]})}))}),Object(s.jsx)("div",{className:"number-select-container",children:new Array(i).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return I(r+1)}))})]}):Object(s.jsx)("h2",{className:"loading-indicator",children:"Loading..."})})}function C(e){var t=e.size,n=e.cages,r=e.work;return Array(Math.pow(t,2)).fill(null).map((function(){for(var e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];var s=c[1],o=Math.floor(s/t),i=s%t,u=T({col:o,row:i}),l=r.find(u),d=n.find((function(e){return e.squares.find(u)})),j=E({col:o,row:i},d),b=d.squares.every((function(e){return e.col>=o&&(e.row>=i||e.col>o)})),h=b?d.result:null,f=b?z[d.operation]:null,p=l?l.value:null;return{col:o,row:i,value:p,neighbors:j,result:h,operation:f}}))}function E(e,t){var n=[],r={"n-up":{col:e.col-1,row:e.row},"n-down":{col:e.col+1,row:e.row},"n-left":{col:e.col,row:e.row-1},"n-right":{col:e.col,row:e.row+1}};for(var c in r){var a=T(r[c]);t.squares.find(a)&&n.push(c)}return n}function T(e){var t=e.col,n=e.row;return function(e){return e.col===t&&e.row===n}}var L={"-":"-","+":"+","*":"x","/":"\xf7"},I={size:4,work:Array(16).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1],c=Math.floor(r/4),a=r%4,s=(a+c)%4+1;return{row:c,col:a,value:s}})),cages:[]},A={size:4,work:[{col:0,row:0,value:1},{col:1,row:0,value:2},{col:2,row:0,value:3},{col:3,row:0,value:4},{col:0,row:2,value:2},{col:0,row:3,value:4},{col:1,row:3,value:1},{col:3,row:3,value:3},{col:2,row:1,value:2},{col:2,row:2,value:4}],cages:[{squares:[{col:0,row:0},{col:1,row:0}],operation:"+",result:"3"},{squares:[{col:2,row:0},{col:3,row:0}],operation:"-",result:"1"},{squares:[{col:3,row:3}],operation:"",result:"3"},{squares:[{col:0,row:2},{col:0,row:3},{col:1,row:3}],operation:"*",result:"8"},{squares:[{col:2,row:1},{col:2,row:2}],operation:"/",result:"2"}]},J={size:4,work:Array(16).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1],c=[3,2,4,1,2,1,3,4,4,3,1,2,1,4,2,3],a=Math.floor(r/4),s=r%4,o=c[r];return{row:a,col:s,value:o}})),cages:[{squares:[{col:0,row:0},{col:0,row:1}],operation:"+",result:"5"},{squares:[{col:0,row:2},{col:0,row:3},{col:1,row:3}],operation:"+",result:"9"},{squares:[{col:1,row:0},{col:1,row:1},{col:2,row:0}],operation:"-",result:"1"},{squares:[{col:1,row:2},{col:2,row:2}],operation:"+",result:"4"},{squares:[{col:2,row:1},{col:3,row:0},{col:3,row:1}],operation:"-",result:"0"},{squares:[{col:2,row:3},{col:3,row:2},{col:3,row:3}],operation:"+",result:"7"}]};function q(e){var t=e.history;return Object(s.jsxs)("div",{className:"calcudoku-instructions",children:[Object(s.jsxs)("h2",{children:["Calcudoku Instructions",Object(s.jsx)("hr",{})]}),Object(s.jsx)("p",{children:"The goal of each puzzle is to fill the grid with digits \u2013\u2013 1 through 4 for a 4\xd74 grid, 1 through 5 for a 5\xd75, etc. \u2013\u2013 so that no digit appears more than once in any row or any column."}),Object(s.jsx)(P,{data:I}),Object(s.jsx)("p",{children:"Additionally, the grid is divided into heavily outlined groups of squares called \u201ccages\u201d. Each cage has a target number and an operation in its upper left corner. The numbers when the numbers in the cage are combined using the cage\u2019s operation they must equal the target number."}),Object(s.jsx)(P,{data:A}),Object(s.jsx)("p",{children:'Digits may be repeated within a cage, as long as they are not in the same row or column. No operation is relevant for a single-cell cage: placing the "target" in the cell is the only possibility.'}),Object(s.jsx)(P,{data:J}),Object(s.jsxs)("p",{children:["Be careful that you know for sure that a number"," ",Object(s.jsx)("strong",{children:"has"})," to go in a square before you put it there. Making a mistake early can cause trouble later on. Use lots of process of elimination!"]}),Object(s.jsx)("button",{className:"try-it",onClick:function(){return t.push("/calcudoku/4x4beginner1")},children:"Try It!"})]})}function P(e){var t=e.data,n=t.size,r=Object(o.useState)(function(e){var t=e.size,n=e.cages,r=e.work;return Array(Math.pow(t,2)).fill(null).map((function(){for(var e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];var s=c[1],o=Math.floor(s/t),i=s%t,u=M({col:o,row:i}),l=r.find(u),d=l?l.value:null,j=n.find((function(e){return e.squares.find(u)})),b=U({col:o,row:i},j);if(!j)return{col:o,row:i,value:d,neighbors:b};var h=j.squares.every((function(e){return e.col>=o&&(e.row>=i||e.col>o)})),f=h?j.result:null,p=h?L[j.operation]:null;return{col:o,row:i,value:d,neighbors:b,result:f,operation:p}}))}(t)),c=Object(a.a)(r,2),i=c[0],u=(c[1],Object(o.useState)(null)),l=Object(a.a)(u,2),d=l[0],j=l[1];return Object(s.jsx)("div",{children:i?Object(s.jsx)("div",{className:"puzzle-container instructions",size:n,children:Object(s.jsx)("div",{className:"grid-container",size:n,children:i.map((function(e){var t="calcudoku-square "+e.neighbors.join(" ")+(e===d?" active":"");return Object(s.jsxs)("div",{className:t,onClick:function(){return j(e)},children:[Object(s.jsxs)("div",{className:"cage-indicator",children:[e.result,e.operation]}),Object(s.jsx)("input",{type:"number",value:e.value||"",disabled:!0})]})}))})}):null})}function U(e,t){var n=[],r={"n-up":{col:e.col-1,row:e.row},"n-down":{col:e.col+1,row:e.row},"n-left":{col:e.col,row:e.row-1},"n-right":{col:e.col,row:e.row+1}};if(!t)return Object.keys(r);for(var c in r){var a=M(r[c]);t.squares.find(a)&&n.push(c)}return n}function M(e){var t=e.col,n=e.row;return function(e){return e.col===t&&e.row===n}}function D(e){var t=sessionStorage.getItem("calcudoku-instance-list"),n=Object(o.useState)(t?JSON.parse(t):[]),r=Object(a.a)(n,2),c=r[0],i=r[1],u=Object(o.useContext)(m).user.token,l=e.match;Object(o.useEffect)((function(){t?i(JSON.parse(t)):Object(p.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("https://immense-everglades-63113.herokuapp.com/api","/puzzles/calcudoku/"),e.next=3,fetch(t,{method:"GET",headers:{authorization:u}});case 3:if(!(n=e.sent).ok){e.next=18;break}return e.prev=5,e.next=8,n.json();case 8:r=e.sent,sessionStorage.setItem("calcudoku-instance-list",JSON.stringify(r)),i(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0);case 16:e.next=19;break;case 18:console.log("HTTP error, status = "+n.status);case 19:case"end":return e.stop()}}),e,null,[[5,13]])})))()}),[u,t]);return Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{path:"".concat(l.url,"/instructions"),render:function(e){return Object(s.jsx)(q,Object(x.a)({},e))}},"instructions"),c?c.map(function(e,t){var n=t.instance;return Object(s.jsx)(j.b,{path:"".concat(e.url,"/").concat(n),render:function(e){return Object(s.jsx)(S,Object(x.a)(Object(x.a)({},e),{},{name:n}))}},n)}.bind(null,l)):null,Object(s.jsx)(j.b,{exact:!0,path:l.url,render:function(e){return Object(s.jsx)(w,Object(x.a)(Object(x.a)({},e),{},{instanceList:c}))}})]})}var F="Calcudokus",H="calcudoku";function B(){return Object(s.jsx)("div",{className:"list-preview",children:"Find all calcudokus here"})}function G(e){var t=e.history,n=e.instanceList;return Object(s.jsx)("div",{className:"logic-puzzles page-container",children:Object(s.jsx)("div",{className:"instance-list-container",children:0===n.length?Object(s.jsx)("h2",{className:"fetching-indicator",children:"Loading..."}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Logic Puzzles"}),Object(s.jsx)("ul",{children:n.map(R.bind(null,t))})]})})})}function R(e,t){var n,r=t.instance,c=t.title;return Object(s.jsx)("li",{onClick:function(){return e.push("/logic/".concat(r))},children:Object(s.jsx)("h3",{children:(n=c,n.replace(/^./,(function(e){return e.toUpperCase()})))})},r)}function W(e){var t=Object(o.useMemo)((function(){return e.name}),[e.name]),n=Object(o.useMemo)((function(){return"logic-instance-data-".concat(t)}),[t]),r=Object(o.useState)(""),c=Object(a.a)(r,2),i=c[0],u=c[1],l=Object(o.useState)(""),d=Object(a.a)(l,2),j=d[0],b=d[1],h=Object(o.useState)(null),v=Object(a.a)(h,2),O=v[0],g=v[1],x=Object(o.useState)(30),w=Object(a.a)(x,2),k=w[0],y=w[1],N=Object(o.useRef)(!0),z=Object(o.useContext)(m).user.token,S="".concat("https://immense-everglades-63113.herokuapp.com/api","/puzzles/logic/").concat(t);Object(o.useMemo)((function(){var e=JSON.parse(sessionStorage.getItem(n));if(e)return u(e.description),b(e.work),void g("saved");Object(p.a)(f.a.mark((function e(){var t,r,c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S,{method:"GET",headers:{authorization:z}});case 2:if(!(t=e.sent).ok){e.next=21;break}return e.prev=4,e.next=7,t.json();case 7:r=e.sent,c=r.description,a=r.work,sessionStorage.setItem(n,JSON.stringify({description:c,work:a})),u(c),b(a),g("saved"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0);case 19:e.next=22;break;case 21:console.log("HTTP error, status = "+t.status);case 22:case"end":return e.stop()}}),e,null,[[4,16]])})))()}),[S,z,b,n]),Object(o.useEffect)((function(){var e="".concat("https://immense-everglades-63113.herokuapp.com/api","/activepuzzle");return Object(p.a)(f.a.mark((function n(){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:z},body:JSON.stringify({puzzleName:"logic",puzzleId:t})});case 2:r=n.sent,console.log(r.status);case 4:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:z}})}}),[z,t]);var C=Object(o.useCallback)(Object(p.a)(f.a.mark((function e(){var t,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("saving"),e.next=3,fetch(S,{method:"PUT",headers:{"Content-Type":"application/json",authorization:z},body:JSON.stringify({puzzleData:j})});case 3:t=e.sent,(r=JSON.parse(sessionStorage.getItem(n))).work=j,sessionStorage.setItem(n,JSON.stringify(r)),t.ok?g("saved"):g("error"),console.log(t.status);case 9:case"end":return e.stop()}}),e)}))),[z,j,S,n]);return Object(o.useEffect)((function(){if(N.current)return N.current=!1;g(null);var t=e.history.listen(C),n=setTimeout(C,3e3);return function(){clearTimeout(n),t()}}),[C,e.history,g,N]),Object(o.useEffect)((function(){return window.addEventListener("beforeunload",C),function(){window.removeEventListener("beforeunload",C)}}),[C]),Object(o.useEffect)((function(){0===k&&(y(30),O||C())}),[k,C,O]),Object(o.useEffect)((function(){var e=setInterval((function(){return y((function(e){return e-1}))}),1e3);return function(){return clearInterval(e)}}),[y]),i?Object(s.jsxs)("div",{className:"logic instance",children:[Object(s.jsx)("p",{className:"puzzle-description",children:i}),Object(s.jsx)("textarea",{className:"work",onChange:function(e){b(e.target.value)},value:j,placeholder:"Enter your solution or any notes here!"}),Object(s.jsx)("div",{className:"saving-indicator",children:"saving"===O?"Saving...":"error"===O?"An error occurred while saving.":"saved"===O?"Saved.":" "})]}):Object(s.jsx)("h2",{className:"loading-indicator",children:"Loading..."})}function $(e){var t=sessionStorage.getItem("logic-instance-list"),n=Object(o.useState)(t?JSON.parse(t):[]),r=Object(a.a)(n,2),c=r[0],i=r[1],u=Object(o.useContext)(m).user.token,l=e.match;Object(o.useEffect)((function(){t?i(JSON.parse(t)):Object(p.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("https://immense-everglades-63113.herokuapp.com/api","/puzzles/logic"),e.next=3,fetch(t,{method:"GET",headers:{authorization:u}});case 3:if(!(n=e.sent).ok){e.next=18;break}return e.prev=5,e.next=8,n.json();case 8:r=e.sent,sessionStorage.setItem("logic-instance-list",JSON.stringify(r)),i(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.log(e.t0);case 16:e.next=19;break;case 18:console.log("HTTP error, status = "+n.status);case 19:case"end":return e.stop()}}),e,null,[[5,13]])})))()}),[u,t]);return Object(s.jsxs)(j.d,{children:[c?c.map(function(e,t){var n=t.instance;return Object(s.jsx)(j.b,{path:"".concat(e.url,"/").concat(n),render:function(e){return Object(s.jsx)(W,Object(x.a)(Object(x.a)({},e),{},{name:n}))}},n)}.bind(null,l)):null,Object(s.jsx)(j.b,{exact:!0,path:l.url,render:function(e){return Object(s.jsx)(G,Object(x.a)(Object(x.a)({},e),{},{instanceList:c}))}})]})}var Z="Logic Puzzles",K="logic";function Q(){return Object(s.jsx)("div",{className:"list-preview",children:"Find all logic puzzles here"})}var V=[r,c],X="/calcudoku/instructions",Y=function(){return Object(s.jsx)("div",{className:"potd-preview",children:"Like Sudokus, but with a twist!"})};function _(e){var t=e.history,n=Object(o.useContext)(m).user.token;return Object(s.jsxs)("div",{className:"dashboard-container",children:[Object(s.jsx)(ee,{history:t,token:n}),Object(s.jsxs)("div",{className:"puzzle-list-container",children:[Object(s.jsx)("h2",{children:"Individual Work"}),Object(s.jsx)("ul",{children:V.map(te.bind(null,t,n))})]})]})}function ee(e){var t=Y;return Object(s.jsxs)("div",{className:"potd-container",onClick:function(){return e.history.push(X,{token:e.token})},children:[Object(s.jsx)("h2",{children:"Puzzle of the Day"}),Object(s.jsx)(t,{})]})}function te(e,t,n){return Object(s.jsxs)("li",{onClick:function(){return e.push("/".concat(n.id),{token:t})},children:[Object(s.jsx)("h3",{children:n.name}),n.ListPreview()]},n.id)}n(259);var ne=Object(b.a)();function re(){var e=JSON.parse(sessionStorage.getItem("mcub-student-user")),t=Object(o.useState)(e),n=Object(a.a)(t,2),r=n[0],c=n[1],i={user:r,setUser:c};return Object(s.jsx)(d.a,{history:ne,basename:"/",children:Object(s.jsx)(m.Provider,{value:i,children:r?Object(s.jsxs)("div",{children:[Object(s.jsxs)("nav",{className:"main-nav",children:[Object(s.jsx)(ae,{student:r.student,setUser:c}),Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{exact:!0,path:"/"}),Object(s.jsx)(j.b,{children:Object(s.jsx)(ce,{history:ne})})]})]}),Object(s.jsxs)(j.d,{children:[V.map(se),Object(s.jsx)(j.b,{path:"/login",component:g}),Object(s.jsx)(j.b,{path:"/",component:_})]})]}):Object(s.jsxs)(j.d,{children:[Object(s.jsx)(j.b,{path:"/login",component:g}),Object(s.jsx)(j.b,{path:"/",children:Object(s.jsx)(j.a,{to:"/login"})})]})})})}function ce(e){var t=e.history;return Object(s.jsx)("button",{className:"back-button",onClick:t.back,children:"Back"})}function ae(e){var t=e.student,n=e.setUser;return Object(s.jsxs)("div",{className:"profile-bar",children:[Object(s.jsxs)("span",{className:"student-name",children:[oe(t.first)," ",oe(t.last)]}),Object(s.jsx)("button",{onClick:function(){n(null),sessionStorage.removeItem("mcub-student-user")},className:"log-out",children:"Log Out"})]})}function se(e){return Object(s.jsx)(j.b,{path:"/".concat(e.id),component:e.Page},e.id)}function oe(e){return e.replace(/^.|\W./g,(function(e){return e.toUpperCase()}))}l.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(re,{})}),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.46397bad.chunk.js.map