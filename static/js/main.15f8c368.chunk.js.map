{"version":3,"sources":["login/user-context.js","login/index.js","puzzles/test/page.js","puzzles/test/index.js","puzzles/calcudoku/list.js","puzzles/calcudoku/instance.js","puzzles/calcudoku/page.js","puzzles/calcudoku/index.js","puzzles/index.js","home/index.js","index.js"],"names":["UserContext","React","createContext","user","setUser","Login","props","useState","first","setFirst","last","setLast","useContext","updateName","updater","event","target","value","login","create","a","studentData","uri","process","fetch","method","headers","body","JSON","stringify","response","ok","json","token","jwt","decode","student","history","push","console","log","status","className","htmlFor","type","name","id","onChange","bind","onClick","Page","solved","setSolved","workFetched","setWorkFetched","puzzleUri","useEffect","authorization","work","defaultChecked","checked","isSolved","updateWork","puzzleData","POTDPreview","ListPreview","List","instanceList","map","renderInstanceListing","instance","string","replace","char","toUpperCase","Instance","size","setSize","grid","setGrid","activeSquare","setActiveSquare","dburl","data","generateGrid","url","puzzleName","puzzleId","sq","col","row","downHandler","key","includes","isNaN","window","addEventListener","removeEventListener","renderNumberSelect","number","square","classList","neighbors","join","result","operation","disabled","Array","fill","cages","index","Math","floor","matchSquare","squareMatcher","entry","find","cage","squares","neighborList","isTopLeft","every","directions","dir","setInstanceList","match","list","path","render","exact","puzzleList","calcudoku","Test","potd","Home","POTD","renderPuzzleListing","puzzle","createBrowserHistory","Routes","defaultContext","Provider","BackButton","ProfileBar","renderPuzzleRoute","component","to","back","capitalize","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15f8c368.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const UserContext = React.createContext({\n\tuser: null,\n\tsetUser: () => {},\n});\n","import React, { useState, useContext } from \"react\";\nimport jwt from \"jsonwebtoken\";\nimport { UserContext } from \"./user-context\";\n\nexport default function Login(props) {\n\tconst [first, setFirst] = useState();\n\tconst [last, setLast] = useState();\n\tconst { setUser } = useContext(UserContext);\n\n\tconst updateName = (updater, event) => {\n\t\tupdater(event.target.value);\n\t};\n\n\tconst login = async (create) => {\n\t\tconst studentData = { first, last };\n\t\tconst uri =\n\t\t\t`${process.env.REACT_APP_API_URL}/students` +\n\t\t\t(create ? \"\" : \"/login\");\n\t\tconst response = await fetch(uri, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(studentData),\n\t\t});\n\t\tif (response.ok) {\n\t\t\ttry {\n\t\t\t\tconst token = (await response.json()).token;\n\t\t\t\tconst { student } = jwt.decode(token);\n\t\t\t\tsetUser({ token, student });\n\t\t\t\tprops.history.push(\"/\");\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t} else console.log(\"HTTP error, status = \" + response.status);\n\t};\n\n\treturn (\n\t\t<div className=\"login-container\">\n\t\t\t<div className=\"login-window\">\n\t\t\t\t<div className=\"name-container first\">\n\t\t\t\t\t<label htmlFor=\"firstname\">First Name:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"firstname\"\n\t\t\t\t\t\tid=\"firstname\"\n\t\t\t\t\t\tonChange={updateName.bind(null, setFirst)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"name-container last\">\n\t\t\t\t\t<label htmlFor=\"lastname\">Last Name:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"lasname\"\n\t\t\t\t\t\tid=\"lasname\"\n\t\t\t\t\t\tonChange={updateName.bind(null, setLast)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button className=\"create-student\" onClick={() => login(true)}>\n\t\t\t\t\tCreate\n\t\t\t\t</button>\n\t\t\t\t<button className=\"login-student\" onClick={() => login(false)}>\n\t\t\t\t\tLog-In\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { UserContext } from \"../../login/user-context\";\n\nexport default function Page(props) {\n\tconst [solved, setSolved] = useState(false);\n\tconst [workFetched, setWorkFetched] = useState(false);\n\tconst {\n\t\tuser: { token },\n\t} = useContext(UserContext);\n\tconst puzzleUri = `${process.env.REACT_APP_API_URL}/puzzles/Test/0`;\n\tuseEffect(() => {\n\t\tif (!workFetched)\n\t\t\t(async () => {\n\t\t\t\tconst response = await fetch(puzzleUri, {\n\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\theaders: { authorization: token },\n\t\t\t\t});\n\t\t\t\tif (response.ok) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst body = await response.json();\n\t\t\t\t\t\t//console.log(body.work);\n\t\t\t\t\t\tsetSolved(body.work.solved);\n\t\t\t\t\t\t//console.log(solved);\n\t\t\t\t\t\tsetWorkFetched(true);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t}\n\t\t\t\t} else console.log(\"HTTP error, status = \" + response.status);\n\t\t\t})();\n\t});\n\treturn (\n\t\t<div>\n\t\t\t<h1>Test Puzzle</h1>\n\t\t\t{workFetched ? (\n\t\t\t\t<p>\n\t\t\t\t\t<label htmlFor=\"testsolved\">Solved: </label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tname=\"testsolved\"\n\t\t\t\t\t\tid=\"testsolved\"\n\t\t\t\t\t\tdefaultChecked={solved}\n\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\tconsole.log(event.target.checked);\n\t\t\t\t\t\t\tconst isSolved = event.target.checked;\n\t\t\t\t\t\t\tupdateWork(token, { solved: isSolved }, puzzleUri);\n\t\t\t\t\t\t\tsetSolved(isSolved);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</p>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n\nasync function updateWork(token, puzzleData, uri) {\n\tconst response = await fetch(uri, {\n\t\tmethod: \"PUT\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t\tauthorization: token,\n\t\t},\n\t\tbody: JSON.stringify({ puzzleData }),\n\t});\n\t//console.log((await response.json()).work);\n}\n","import React from \"react\";\nimport Page from \"./page\";\n\nexport const name = \"Test Puzzle\";\n\nexport const id = \"test\";\n\nexport { Page };\n\nexport function POTDPreview() {\n\treturn <div className=\"potd-preview\">Test puzzle! Is it solved????</div>;\n}\n\nexport function ListPreview() {\n\treturn <div className=\"list-preview\">Solved?</div>;\n}\n","import React from \"react\";\n\nexport default function List(props) {\n\tconst history = props.history;\n\tconst instanceList = props.instanceList;\n\n\treturn (\n\t\t<div className=\"calcudoku-page-container\">\n\t\t\t<div className=\"instance-list-container\">\n\t\t\t\t<h2>Calcudokus</h2>\n\t\t\t\t<ul>\n\t\t\t\t\t{instanceList\n\t\t\t\t\t\t? instanceList.map(\n\t\t\t\t\t\t\t\trenderInstanceListing.bind(null, history)\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: null}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction renderInstanceListing(history, instance) {\n\treturn (\n\t\t<li\n\t\t\tkey={instance}\n\t\t\tonClick={() => history.push(`/calcudoku/${instance}`)}\n\t\t>\n\t\t\t<h3>{capitalize(instance)}</h3>\n\t\t</li>\n\t);\n}\n\nfunction capitalize(string) {\n\treturn string.replace(/^./, (char) => char.toUpperCase());\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { UserContext } from \"../../login/user-context\";\n\nexport default function Instance(props) {\n\tconst name = props.name;\n\tconst [size, setSize] = useState(null);\n\tconst [grid, setGrid] = useState(null);\n\tconst [activeSquare, setActiveSquare] = useState(null);\n\tconst {\n\t\tuser: { token },\n\t} = useContext(UserContext);\n\tconst dburl = `${process.env.REACT_APP_API_URL}/puzzles/calcudoku/${name}`;\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst response = await fetch(dburl, {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: { authorization: token },\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\ttry {\n\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\tsetSize(data.size);\n\t\t\t\t\tsetGrid(generateGrid(data));\n\t\t\t\t} catch (error) {\n\t\t\t\t\tsetGrid([]);\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t} else console.log(\"HTTP error, status = \" + response.status);\n\t\t})();\n\t}, [dburl, token]);\n\n\tuseEffect(() => {\n\t\tconst url = `${process.env.REACT_APP_API_URL}/activepuzzle`;\n\t\t(async () => {\n\t\t\tconst response = await fetch(url, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\tauthorization: token,\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tpuzzleName: \"calcudoku\",\n\t\t\t\t\tpuzzleId: name,\n\t\t\t\t}),\n\t\t\t});\n\t\t\tconsole.log(response.status);\n\t\t})();\n\n\t\treturn () => {\n\t\t\tfetch(url, {\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t\theaders: {\n\t\t\t\t\tauthorization: token,\n\t\t\t\t},\n\t\t\t});\n\t\t};\n\t}, [token, name]);\n\n\tconst updateWork = async () => {\n\t\tconst work = grid.map((sq) => {\n\t\t\treturn { col: sq.col, row: sq.row, value: sq.value };\n\t\t});\n\n\t\tconst response = await fetch(dburl, {\n\t\t\tmethod: \"PUT\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tauthorization: token,\n\t\t\t},\n\t\t\tbody: JSON.stringify({ puzzleData: work }),\n\t\t});\n\t\tconsole.log(response.status);\n\t};\n\n\tconst downHandler = ({ key }) => {\n\t\tif (activeSquare) {\n\t\t\tif ([\"Backspace\", \"Delete\"].includes(key)) {\n\t\t\t\tactiveSquare.value = \"\";\n\t\t\t} else if (!isNaN(key) && 1 <= key && key <= size) {\n\t\t\t\tactiveSquare.value = key;\n\t\t\t}\n\n\t\t\tsetGrid([...grid]);\n\t\t\tupdateWork();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"keydown\", downHandler);\n\t\treturn () => window.removeEventListener(\"keydown\", downHandler);\n\t});\n\n\tconst renderSquare = (square) => {\n\t\tconst classList =\n\t\t\t\"calcudoku-square \" +\n\t\t\tsquare.neighbors.join(\" \") +\n\t\t\t(square === activeSquare ? \" active\" : \"\");\n\t\treturn (\n\t\t\t<div className={classList} onClick={() => setActiveSquare(square)}>\n\t\t\t\t<div className=\"cage-indicator\">\n\t\t\t\t\t{square.result}\n\t\t\t\t\t{square.operation}\n\t\t\t\t</div>\n\t\t\t\t<input type=\"number\" value={square.value || \"\"} disabled />\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderNumberSelect = (number) => {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName=\"number-select\"\n\t\t\t\tkey={`num${number}`}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tactiveSquare.value = number;\n\t\t\t\t\tsetGrid([...grid]);\n\t\t\t\t\tupdateWork();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{number}\n\t\t\t</button>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{grid ? (\n\t\t\t\t<div className=\"puzzle-container\" size={size}>\n\t\t\t\t\t<div className=\"grid-container\" size={size}>\n\t\t\t\t\t\t{grid.map(renderSquare)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"number-select-container\">\n\t\t\t\t\t\t{new Array(size)\n\t\t\t\t\t\t\t.fill(null)\n\t\t\t\t\t\t\t.map((...[, number]) =>\n\t\t\t\t\t\t\t\trenderNumberSelect(number + 1)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n\nfunction generateGrid(puzzleData) {\n\tconst { size, cages, work } = puzzleData;\n\tconst squares = Array(size ** 2).fill(null);\n\treturn squares.map((...[, index]) => {\n\t\tconst col = Math.floor(index / size);\n\t\tconst row = index % size;\n\t\tconst matchSquare = squareMatcher({ col, row });\n\t\tconst entry = work.find(matchSquare);\n\t\tconst cage = cages.find((cage) => cage.squares.find(matchSquare));\n\t\tconst neighbors = neighborList({ col, row }, cage);\n\t\tconst isTopLeft = cage.squares.every(\n\t\t\t(square) => square.col >= col && square.row >= row\n\t\t);\n\t\tconst result = isTopLeft ? cage.result : null;\n\t\tconst operation = isTopLeft ? cage.operation : null;\n\t\tconst value = entry ? entry.value : null;\n\t\treturn { col, row, value, neighbors, result, operation };\n\t});\n}\n\nfunction neighborList(square, cage) {\n\tconst neighbors = [];\n\tconst directions = {\n\t\t\"n-up\": { col: square.col - 1, row: square.row },\n\t\t\"n-down\": { col: square.col + 1, row: square.row },\n\t\t\"n-left\": { col: square.col, row: square.row - 1 },\n\t\t\"n-right\": { col: square.col, row: square.row + 1 },\n\t};\n\n\tfor (let dir in directions) {\n\t\tconst matchSquare = squareMatcher(directions[dir]);\n\t\tif (cage.squares.find(matchSquare)) {\n\t\t\tneighbors.push(dir);\n\t\t}\n\t}\n\n\treturn neighbors;\n}\n\nfunction squareMatcher({ col, row }) {\n\treturn (square) => square.col === col && square.row === row;\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport List from \"./list\";\nimport Instance from \"./instance\";\nimport { UserContext } from \"../../login/user-context\";\n\nexport default function Page(props) {\n\tconst [instanceList, setInstanceList] = useState([]);\n\tconst {\n\t\tuser: { token },\n\t} = useContext(UserContext);\n\tconst match = props.match;\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tconst uri = `${process.env.REACT_APP_API_URL}/puzzles/calcudoku/`;\n\t\t\tconst response = await fetch(uri, {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: { authorization: token },\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\ttry {\n\t\t\t\t\tconst list = await response.json();\n\t\t\t\t\tsetInstanceList(list);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t} else console.log(\"HTTP error, status = \" + response.status);\n\t\t})();\n\t}, [token]);\n\n\tconst renderInstanceRoute = (match, name) => {\n\t\treturn (\n\t\t\t<Route\n\t\t\t\tkey={name}\n\t\t\t\tpath={`${match.url}/${name}`}\n\t\t\t\trender={(props) => <Instance {...props} name={name} />}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Switch>\n\t\t\t{instanceList\n\t\t\t\t? instanceList.map(renderInstanceRoute.bind(null, match))\n\t\t\t\t: null}\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath={match.url}\n\t\t\t\trender={(props) => (\n\t\t\t\t\t<List {...props} instanceList={instanceList} />\n\t\t\t\t)}\n\t\t\t/>\n\t\t</Switch>\n\t);\n}\n","import React from \"react\";\nimport Page from \"./page\";\n\nconst name = \"Calcudokus\";\nconst id = \"calcudoku\";\n\nfunction ListPreview() {\n\treturn <div className=\"list-preview\">Find all calcudokus here</div>;\n}\n\nexport { Page, name, id, ListPreview };\n","import * as Test from \"./test/index\";\nimport * as calcudoku from \"./calcudoku/index\";\n\nexport const puzzleList = [calcudoku, Test];\n\nexport const potd = {\n\turi: \"/calcudoku/sample\",\n\tPreview: POTDPreview,\n};\n\nfunction POTDPreview() {\n\treturn <div className=\"potd-preview\">Like Sudokus, but with a twist!</div>;\n}\n","import React, { useContext } from \"react\";\nimport { potd, puzzleList } from \"../puzzles/index\";\nimport { UserContext } from \"../login/user-context.js\";\n\nexport default function Home({ history }) {\n\tconst {\n\t\tuser: { token },\n\t} = useContext(UserContext);\n\treturn (\n\t\t<div className=\"dashboard-container\">\n\t\t\t<POTD history={history} token={token} />\n\t\t\t<div className=\"puzzle-list-container\">\n\t\t\t\t<h2>Individual Work</h2>\n\t\t\t\t<ul>\n\t\t\t\t\t{puzzleList.map(\n\t\t\t\t\t\trenderPuzzleListing.bind(null, history, token)\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction POTD(props) {\n\tconst POTDPreview = potd.Preview;\n\treturn (\n\t\t<div\n\t\t\tclassName=\"potd-container\"\n\t\t\tonClick={() => props.history.push(potd.uri, { token: props.token })}\n\t\t>\n\t\t\t<h2>Puzzle of the Day</h2>\n\t\t\t<POTDPreview />\n\t\t</div>\n\t);\n}\n\nfunction renderPuzzleListing(history, token, puzzle) {\n\treturn (\n\t\t<li\n\t\t\tkey={puzzle.id}\n\t\t\tonClick={() => history.push(`/${puzzle.id}`, { token })}\n\t\t>\n\t\t\t<h3>{puzzle.name}</h3>\n\t\t\t{puzzle.ListPreview()}\n\t\t</li>\n\t);\n}\n","import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport Login from \"./login/index\";\nimport { UserContext } from \"./login/user-context\";\nimport Home from \"./home/index\";\nimport { puzzleList } from \"./puzzles/index\";\n\nimport \"./stylesheets/index.css\";\n\nconst history = createBrowserHistory();\n\nfunction Routes() {\n\tconst [user, setUser] = useState(null);\n\tconst defaultContext = {\n\t\tuser,\n\t\tsetUser,\n\t};\n\treturn (\n\t\t<BrowserRouter history={history}>\n\t\t\t<UserContext.Provider value={defaultContext}>\n\t\t\t\t{user ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<nav className=\"main-nav\">\n\t\t\t\t\t\t\t<BackButton history={history} />\n\t\t\t\t\t\t\t<ProfileBar\n\t\t\t\t\t\t\t\tstudent={user.student}\n\t\t\t\t\t\t\t\tsetUser={setUser}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</nav>\n\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t{puzzleList.map(renderPuzzleRoute)}\n\t\t\t\t\t\t\t<Route path=\"/login\" component={Login} />\n\t\t\t\t\t\t\t<Route path=\"/\" component={Home} />\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/login\" component={Login} />\n\t\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t\t<Redirect to=\"/login\" />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t)}\n\t\t\t</UserContext.Provider>\n\t\t</BrowserRouter>\n\t);\n}\n\nfunction BackButton({ history }) {\n\treturn (\n\t\t<button className=\"back-button\" onClick={history.back}>\n\t\t\tBack\n\t\t</button>\n\t);\n}\n\nfunction ProfileBar({ student, setUser }) {\n\treturn (\n\t\t<div className=\"profile-bar\">\n\t\t\t<span className=\"student-name\">\n\t\t\t\t{capitalize(student.first)} {capitalize(student.last)}\n\t\t\t</span>\n\t\t\t<button onClick={() => setUser(null)} className=\"log-out\">\n\t\t\t\tLog Out\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nfunction renderPuzzleRoute(puzzle) {\n\treturn (\n\t\t<Route key={puzzle.id} path={`/${puzzle.id}`} component={puzzle.Page} />\n\t);\n}\n\nfunction capitalize(string) {\n\treturn string.replace(/^./, (char) => char.toUpperCase());\n}\n\n//---------\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Routes />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}