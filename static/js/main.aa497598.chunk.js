(this["webpackJsonpinstructor-app"]=this["webpackJsonpinstructor-app"]||[]).push([[0],{18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var r=n(3),a=n(0),c=n(1),s=n.n(c),o=n(8),u=n.n(o),i=n(9),l=n(2),d=n.n(l),f=n(5),j=n(10);function v(t){var e=t.students,n=Object(c.useState)(e),s=Object(r.a)(n,2),o=s[0],u=s[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"text",placeholder:"Filter",onChange:function(t){var n=t.target.value.split(" "),r=e.filter((function(t){var e=t.first,r=t.last;return n.every((function(t){var n=new RegExp(t,"i");return e.match(n)||r.match(n)}))}));u(r)}}),Object(a.jsx)(b,Object(j.a)({},t)),o.map(p.bind(null,t))]})}function b(t){var e=t.students,n=t.setStudents,r=function(){var t=Object(f.a)(d.a.mark((function t(){var r,a,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat("mongodb+srv://kbrdsk:wj7VyG6lQAALAX9W@cluster0.tyq4g.mongodb.net/student-work?retryWrites=true&w=majority","/students"),t.next=3,fetch(r,{headers:{authorization:"testingpw"}});case 3:if(!(a=t.sent).ok){t.next=18;break}return t.prev=5,t.next=8,a.json();case 8:(c=t.sent).forEach((function(t){var n=e.find((function(e){var n=e.first,r=e.last;return n===t.first&&r===t.last}));t.active=!!n&&n.active})),n(c),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0);case 16:t.next=19;break;case 18:console.log("HTTP error, status = "+a.status);case 19:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(){return t.apply(this,arguments)}}();return Object(a.jsx)("button",{className:"refresh-students",onClick:r,children:"Refresh"})}function p(t,e){var n=t.students,r=t.setStudents,c=e.first,s=e.last,o=e.active;return Object(a.jsxs)("li",{children:[c," ",s," ",Object(a.jsx)("input",{type:"checkbox",name:"active",id:"".concat(c,"_").concat(s,"-active"),defaultChecked:!!o,onChange:function(){e.active=!o,r(Object(i.a)(n))}})]},"".concat(c," ").concat(s))}var h=n(11);function w(t){var e=t.data,n=e.size,r=function(t){var e=t.size,n=t.cages,r=t.work;return Array(Math.pow(e,2)).fill(null).map((function(){for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];var s=a[1],o=Math.floor(s/e),u=s%e,i=m({col:o,row:u}),l=r.find(i),d=n.find((function(t){return t.squares.find(i)})),f=O({col:o,row:u},d),j=d.squares.every((function(t){return t.col>=o&&t.row>=u})),v=j?d.result:null,b=j?d.operation:null,p=l?l.value:null;return{col:o,row:u,value:p,neighbors:f,result:v,operation:b}}))}(e);return Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"puzzle-container",size:n,children:Object(a.jsx)("div",{className:"grid-container",size:n,children:r.map(x)})})})}function x(t){var e="calcudoku-square "+t.neighbors.join(" ");return Object(a.jsxs)("div",{className:e,children:[Object(a.jsxs)("div",{className:"cage-indicator",children:[t.result,t.operation]}),Object(a.jsx)("input",{type:"number",value:t.value||"",disabled:!0})]})}function O(t,e){var n=[],r={"n-up":{col:t.col-1,row:t.row},"n-down":{col:t.col+1,row:t.row},"n-left":{col:t.col,row:t.row-1},"n-right":{col:t.col,row:t.row+1}};for(var a in r){var c=m(r[a]);e.squares.find(c)&&n.push(a)}return n}function m(t){var e=t.col,n=t.row;return function(t){return t.col===e&&t.row===n}}function k(t){var e=t.students,n=Object(c.useState)(new Map),s=Object(r.a)(n,2),o=s[0],u=s[1],i=function(){var t=Object(f.a)(d.a.mark((function t(e){var n,r,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.first,r=e.last,a="".concat("mongodb+srv://kbrdsk:wj7VyG6lQAALAX9W@cluster0.tyq4g.mongodb.net/student-work?retryWrites=true&w=majority","/students/").concat(n,"_").concat(r,"/activepuzzle"),t.next=4,fetch(a,{headers:{authorization:"testingpw"}});case 4:return c=t.sent,t.next=7,c.json();case 7:return s=t.sent,t.abrupt("return",[e,s]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=Object(c.useCallback)((function(){var t=e.filter((function(t){return t.active}));Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(i));case 2:n=e.sent,u(new Map(n));case 4:case"end":return e.stop()}}),e)})))()}),[e,u]);return Object(c.useEffect)((function(){var t=setInterval(l,1e3);return function(){return clearInterval(t)}}),[l]),Object(a.jsx)("ul",{children:Array.from(o.keys()).map((function(t){var e,n=o.get(t),r=n.puzzleName,c=Object(h.a)(n,["puzzleName"]),s=t.first,u=t.last;switch(r){case"calcudoku":e=Object(a.jsx)(w,{data:c});break;default:e=null}return Object(a.jsxs)("li",{children:[Object(a.jsxs)("div",{className:"student-name",children:[s," ",u]}),e]},"".concat(s,"_").concat(u))}))})}n(18);function g(){var t=Object(c.useState)([{first:"kabirdas",last:"henry",active:!0},{first:"naomi",last:"henry",active:!1}]),e=Object(r.a)(t,2),n=e[0],s=e[1];return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(v,{students:n,setStudents:s}),Object(a.jsx)(k,{students:n})]})}u.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(g,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.aa497598.chunk.js.map