(this["webpackJsonpstudent-app"]=this["webpackJsonpstudent-app"]||[]).push([[0],{151:function(e,t){},153:function(e,t){},167:function(e,t){},169:function(e,t){},197:function(e,t){},199:function(e,t){},200:function(e,t){},206:function(e,t){},208:function(e,t){},226:function(e,t){},228:function(e,t){},240:function(e,t){},243:function(e,t){},264:function(e,t,n){},265:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchUserData",(function(){return bt}));var r={};n.r(r),n.d(r,"name",(function(){return R})),n.d(r,"id",(function(){return W})),n.d(r,"ListPreview",(function(){return H})),n.d(r,"Instructions",(function(){return I})),n.d(r,"Instance",(function(){return A})),n.d(r,"instanceList",(function(){return X}));var a={};n.r(a),n.d(a,"name",(function(){return Y})),n.d(a,"id",(function(){return Z})),n.d(a,"ListPreview",(function(){return $})),n.d(a,"Instance",(function(){return G})),n.d(a,"instanceList",(function(){return K}));var c={};n.r(c),n.d(c,"name",(function(){return de})),n.d(c,"id",(function(){return fe})),n.d(c,"ListPreview",(function(){return je})),n.d(c,"instanceList",(function(){return be})),n.d(c,"Instance",(function(){return ve})),n.d(c,"Instructions",(function(){return se}));var i={};n.r(i),n.d(i,"name",(function(){return Pe})),n.d(i,"id",(function(){return Ee})),n.d(i,"ListPreview",(function(){return Le})),n.d(i,"Instance",(function(){return Ne})),n.d(i,"instanceList",(function(){return Ae})),n.d(i,"Instructions",(function(){return Ce}));var s={};n.r(s),n.d(s,"name",(function(){return Qe})),n.d(s,"id",(function(){return Ve})),n.d(s,"ListPreview",(function(){return _e})),n.d(s,"Instance",(function(){return $e})),n.d(s,"instanceList",(function(){return et})),n.d(s,"Instructions",(function(){return Ke}));var o=n(29),u=n(6),l=n(3),h=n.n(l),d=n(8),f=n(2),j=n(0),b=n(1),v=n.n(b),p=n(138),g=n.n(p),m=n(48),O=n(9),x=n(141),w=n(139),y=n.n(w),k=v.a.createContext({user:null,setUser:function(){}});function z(e){var t=Object(b.useState)(),n=Object(f.a)(t,2),r=n[0],a=n[1],c=Object(b.useState)(),i=Object(f.a)(c,2),s=i[0],o=i[1],u=Object(b.useState)(!1),l=Object(f.a)(u,2),v=l[0],p=l[1],g=Object(b.useState)(!1),m=Object(f.a)(g,2),O=m[0],x=m[1],w=Object(b.useContext)(k).setUser,z=function(e,t){e((function(e){var n=t.target.value.replace(/[^a-zA-Z\-']/,"");return n.length<20?n:e}))},S=Object(b.useCallback)(function(){var t=Object(d.a)(h.a.mark((function t(n){var a,c,i,o,u,l,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&s){t.next=3;break}return x("missing name"),t.abrupt("return");case 3:return p(n?"create":"login"),a={first:r,last:s},c="".concat("https://immense-everglades-63113.herokuapp.com/api","/students")+(n?"":"/login"),t.prev=6,t.next=9,fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 9:if(i=t.sent,p(!1),!i.ok){t.next=29;break}return x(!1),t.prev=13,t.next=16,i.json();case 16:o=t.sent.token,u=y.a.decode(o),l=u.student,d={token:o,student:l},sessionStorage.setItem("mcub-student-user",JSON.stringify(d)),w(d),e.history.push("/"),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(13),console.log(t.t0);case 27:t.next=31;break;case 29:x(i.status),console.log("HTTP error, status = "+i.status);case 31:t.next=38;break;case 33:t.prev=33,t.t1=t.catch(6),p(!1),x(500),console.log(t.t1);case 38:case"end":return t.stop()}}),t,null,[[6,33],[13,24]])})));return function(e){return t.apply(this,arguments)}}(),[r,s,e.history,w]),N=Object(b.useCallback)((function(e){"Enter"===e.key&&S(!1)}),[S]);return Object(b.useEffect)((function(){return window.addEventListener("keydown",N),function(){return window.removeEventListener("keydown",N)}}),[N]),Object(j.jsx)("div",{className:"login-container",children:Object(j.jsxs)("div",{className:"login-window",children:[v?Object(j.jsx)("div",{className:"fetching-indicator",children:"create"===v?"Creating new user...":"Logging in..."}):null,O?Object(j.jsx)("p",{className:"login-error",children:404===O?"User not found. Please try again or create a new user.":403===O?"User already exists.":"missing name"===O?"Please enter both your first and last name.":"An error occurred, please try again."}):null,Object(j.jsxs)("div",{className:"name-container first",children:[Object(j.jsx)("label",{htmlFor:"firstname",children:"First Name:"}),Object(j.jsx)("input",{type:"text",name:"firstname",id:"firstname",value:r,onChange:z.bind(null,a)})]}),Object(j.jsxs)("div",{className:"name-container last",children:[Object(j.jsx)("label",{htmlFor:"lastname",children:"Last Name:"}),Object(j.jsx)("input",{type:"text",name:"lastname",id:"lastname",value:s,onChange:z.bind(null,o)})]}),Object(j.jsx)("button",{className:"create-student",onClick:function(){return S(!0)},children:"Create"}),Object(j.jsx)("button",{className:"login-student",onClick:function(){return S(!1)},children:"Log-In"})]})})}var S=n(10),N={"-":"-","+":"+","*":"x","/":"\xf7"},q={size:4,work:Array(16).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1],a=Math.floor(r/4),c=r%4,i=(c+a)%4+1;return{row:a,col:c,value:i}})),cages:[]},M={size:4,work:[{col:0,row:0,value:1},{col:1,row:0,value:2},{col:2,row:0,value:3},{col:3,row:0,value:4},{col:0,row:2,value:2},{col:0,row:3,value:4},{col:1,row:3,value:1},{col:3,row:3,value:3},{col:2,row:1,value:2},{col:2,row:2,value:4}],cages:[{squares:[{col:0,row:0},{col:1,row:0}],operation:"+",result:"3"},{squares:[{col:2,row:0},{col:3,row:0}],operation:"-",result:"1"},{squares:[{col:3,row:3}],operation:"",result:"3"},{squares:[{col:0,row:2},{col:0,row:3},{col:1,row:3}],operation:"*",result:"8"},{squares:[{col:2,row:1},{col:2,row:2}],operation:"/",result:"2"}]},C={size:4,work:Array(16).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1],a=[3,2,4,1,2,1,3,4,4,3,1,2,1,4,2,3],c=Math.floor(r/4),i=r%4,s=a[r];return{row:c,col:i,value:s}})),cages:[{squares:[{col:0,row:0},{col:0,row:1}],operation:"+",result:"5"},{squares:[{col:0,row:2},{col:0,row:3},{col:1,row:3}],operation:"+",result:"9"},{squares:[{col:1,row:0},{col:1,row:1},{col:2,row:0}],operation:"-",result:"1"},{squares:[{col:1,row:2},{col:2,row:2}],operation:"+",result:"4"},{squares:[{col:2,row:1},{col:3,row:0},{col:3,row:1}],operation:"-",result:"0"},{squares:[{col:2,row:3},{col:3,row:2},{col:3,row:3}],operation:"+",result:"7"}]};function I(e){var t=e.history;return Object(j.jsxs)("div",{className:"calcudoku-instructions",children:[Object(j.jsxs)("h2",{children:["Calcudoku Instructions",Object(j.jsx)("hr",{})]}),Object(j.jsx)("p",{children:"The goal of each puzzle is to fill the grid using only certain digits \u2013\u2013 1 through 4 for a 4\xd74 grid, 1 through 5 for a 5\xd75, etc. \u2013\u2013 so that no digit appears more than once in any row or any column."}),Object(j.jsx)(T,{data:q}),Object(j.jsx)("p",{children:"Additionally, the grid is divided into heavily outlined groups of squares called \u201ccages\u201d. Each cage has a target number and an operation in its upper left corner. The numbers when the numbers in the cage are combined using the cage\u2019s operation they must equal the target number."}),Object(j.jsx)(T,{data:M}),Object(j.jsx)("p",{children:'Digits may be repeated within a cage, as long as they are not in the same row or column. No operation is relevant for a single-cell cage: placing the "target" in the cell is the only possibility.'}),Object(j.jsx)(T,{data:C}),Object(j.jsxs)("p",{children:["Be careful that you know for sure that a number"," ",Object(j.jsx)("strong",{children:"has"})," to go in a square before you put it there. Making a mistake early can cause trouble later on. Use lots of process of elimination!"]}),Object(j.jsx)("button",{className:"try-it",onClick:function(){return t.push("/calcudoku")},children:"Try It!"})]})}function T(e){var t=e.data,n=t.size,r=Object(b.useState)(function(e){var t=e.size,n=e.cages,r=e.work;return Array(Math.pow(t,2)).fill(null).map((function(){for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];var i=a[1],s=Math.floor(i/t),o=i%t,u=E({col:s,row:o}),l=r.find(u),h=l?l.value:null,d=n.find((function(e){return e.squares.find(u)})),f=P({col:s,row:o},d);if(!d)return{col:s,row:o,value:h,neighbors:f};var j=d.squares.every((function(e){return e.col>=s&&(e.row>=o||e.col>s)})),b=j?d.result:null,v=j?N[d.operation]:null;return{col:s,row:o,value:h,neighbors:f,result:b,operation:v}}))}(t)),a=Object(f.a)(r,2),c=a[0],i=(a[1],Object(b.useState)(null)),s=Object(f.a)(i,2),o=s[0],u=s[1];return Object(j.jsx)("div",{children:c?Object(j.jsx)("div",{className:"puzzle-container instructions",size:n,children:Object(j.jsx)("div",{className:"grid-container",size:n,children:c.map((function(e){var t="calcudoku-square "+e.neighbors.join(" ")+(e===o?" active":"");return Object(j.jsxs)("div",{className:t,onClick:function(){return u(e)},children:[Object(j.jsxs)("div",{className:"cage-indicator",children:[e.result,e.operation]}),Object(j.jsx)("input",{type:"number",value:e.value||"",disabled:!0})]})}))})}):null})}function P(e,t){var n=[],r={"n-up":{col:e.col-1,row:e.row},"n-down":{col:e.col+1,row:e.row},"n-left":{col:e.col,row:e.row-1},"n-right":{col:e.col,row:e.row+1}};if(!t)return Object.keys(r);for(var a in r){var c=E(r[a]);t.squares.find(c)&&n.push(a)}return n}function E(e){var t=e.col,n=e.row;return function(e){return e.col===t&&e.row===n}}var L={"-":"-","+":"+","*":"x","/":"\xf7"};function A(e){var t=Object(b.useMemo)((function(){return e.name}),[e.name]),n=Object(b.useMemo)((function(){return"calcudoku-instance-data-".concat(t)}),[t]),r=Object(b.useMemo)((function(){return JSON.parse(sessionStorage.getItem(n))}),[n]),a=Object(b.useState)(r?r.size:null),c=Object(f.a)(a,2),i=c[0],s=c[1],o=Object(b.useState)(r?J(r):null),u=Object(f.a)(o,2),l=u[0],v=u[1],p=Object(b.useState)(r?r.cages:null),g=Object(f.a)(p,2),m=g[0],O=g[1],x=Object(b.useState)(null),w=Object(f.a)(x,2),y=w[0],z=w[1],N=Object(b.useState)(r?"saved":null),q=Object(f.a)(N,2),M=q[0],C=q[1],I=Object(b.useContext)(k).user.token,T="".concat("https://immense-everglades-63113.herokuapp.com/api","/puzzles/calcudoku/").concat(t);Object(b.useEffect)((function(){r||Object(d.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(T,{method:"GET",headers:{authorization:I}});case 2:if(!(t=e.sent).ok){e.next=21;break}return e.prev=4,e.next=7,t.json();case 7:r=e.sent,sessionStorage.setItem(n,JSON.stringify(r)),s(r.size),v(J(r)),O(r.cages),C("saved"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),v([]),console.log(e.t0);case 19:e.next=22;break;case 21:console.log("HTTP error, status = "+t.status);case 22:case"end":return e.stop()}}),e,null,[[4,15]])})))()}),[T,I,r,n]),Object(b.useEffect)((function(){var e="".concat("https://immense-everglades-63113.herokuapp.com/api","/activepuzzle");return Object(d.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:I},body:JSON.stringify({puzzleName:"calcudoku",puzzleId:t})});case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:I}})}}),[I,t]);var P=Object(b.useCallback)((function(){var e=m.reduce((function(e,t){return!!F(l,t)}),!1),t=l.reduce((function(e,t){return!!D(l,t)}),!1);return!e&&!t}),[l,m]);Object(b.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem(n));e.completed||P()&&(fetch("".concat(T,"/completed"),{method:"PUT",headers:{"Content-Type":"application/json",authorization:I},body:JSON.stringify({completed:!0})}),e.completed=!0,sessionStorage.setItem(n,JSON.stringify(e)))}),[n,P,T,I]);var E=function(){var e=Object(d.a)(h.a.mark((function e(){var t,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("saving"),t=l.map((function(e){return{col:e.col,row:e.row,value:e.value}})),e.next=4,fetch(T,{method:"PUT",headers:{"Content-Type":"application/json",authorization:I},body:JSON.stringify({puzzleData:t})});case 4:r=e.sent,(a=JSON.parse(sessionStorage.getItem(n))).work=t,sessionStorage.setItem(n,JSON.stringify(a)),r.ok?C("saved"):C("error");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t=e.key;if(y){if(!isNaN(t)&&1<=t&&t<=i)y.value=t;else{var n=y.col,r=y.row;switch(t){case"Backspace":case"Delete":y.value="";break;case"ArrowUp":return void z(l.find(U({col:n-1,row:r}))||y);case"ArrowDown":return void z(l.find(U({col:n+1,row:r}))||y);case"ArrowLeft":return void z(l.find(U({col:n,row:r-1}))||y);case"ArrowRight":return void z(l.find(U({col:n,row:r+1}))||y);default:return}}v(Object(S.a)(l)),E()}else["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t)&&z(l.find(U({col:0,row:0})))};Object(b.useEffect)((function(){return window.addEventListener("keydown",L),function(){return window.removeEventListener("keydown",L)}}));var A=function(e){return Object(j.jsx)("button",{className:"number-select",onClick:function(){y.value=e,v(Object(S.a)(l)),E()},children:e},"num".concat(e))};return Object(j.jsx)("div",{children:l?Object(j.jsxs)("div",{className:"puzzle-container",size:i,children:[Object(j.jsx)("div",{className:"saving-indicator",children:"saving"===M?"Saving...":"error"===M?"An error occurred while saving.":"saved"===M?"Saved.":" "}),Object(j.jsx)("div",{className:"grid-container",size:i,children:l.map((function(e){var n=U(e),r=e.result&&m?m.find((function(e){return e.squares.find(n)})):null,a="calcudoku-square "+e.neighbors.join(" ")+(e===y?" active":"")+(t.match("4x4beginner1")&&D(l,e)?" duplicate":"")+((t.match("4x4beginner1")||t.match("4x4beginner2"))&&r&&F(l,r)?" cageError":"");return Object(j.jsxs)("div",{className:a,onClick:function(){return z(e)},children:[Object(j.jsxs)("div",{className:"cage-indicator",children:[e.result,e.operation]}),Object(j.jsx)("input",{type:"number",value:e.value||"",disabled:!0}),Object(j.jsx)("div",{className:"selector"})]})}))}),Object(j.jsx)("div",{className:"number-select-container",children:new Array(i).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return A(r+1)}))})]}):Object(j.jsx)("h2",{className:"loading-indicator",children:"Loading..."})})}function J(e){var t=e.size,n=e.cages,r=e.work;return Array(Math.pow(t,2)).fill(null).map((function(){for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];var i=a[1],s=Math.floor(i/t),o=i%t,u=U({col:s,row:o}),l=r.find(u),h=n.find((function(e){return e.squares.find(u)})),d=B({col:s,row:o},h),f=h.squares.every((function(e){return e.col>=s&&(e.row>=o||e.col>s)})),j=f?h.result:null,b=f?L[h.operation]:null,v=l?l.value:null;return{col:s,row:o,value:v,neighbors:d,result:j,operation:b}}))}function B(e,t){var n=[],r={"n-up":{col:e.col-1,row:e.row},"n-down":{col:e.col+1,row:e.row},"n-left":{col:e.col,row:e.row-1},"n-right":{col:e.col,row:e.row+1}};for(var a in r){var c=U(r[a]);t.squares.find(c)&&n.push(a)}return n}function U(e){var t=e.col,n=e.row;return function(e){return e.col===t&&e.row===n}}function D(e,t){var n=t.col,r=t.row,a=t.value;return e.some((function(e){return(e.row===r||e.col===n)&&!(e.row===r&&e.col===n)&&e.value===a}))}function F(e,t){var n,r,a=t.squares,c=t.operation,i=t.result,s=a.map((function(t){return+e.find(U(t)).value}));if(s.some((function(e){return!e})))return!1;switch(c){case"+":r=0,n=function(e){return function(e,t){return e+t}};break;case"-":r=0,n=function(e){return function(t,n,r){return r===e?t+n:t-n}};break;case"*":r=1,n=function(e){return function(e,t){return e*t}};break;case"/":r=1,n=function(e){return function(t,n,r){return r===e?t*n:t/n}};break;default:r=0,n=function(e){return function(e,t){return t}}}return!s.map((function(e,t,a){return a.reduce(n(t),r)})).includes(+i)}var R="Calcudokus",W="calcudoku";function H(){return Object(j.jsx)("div",{className:"list-preview",children:"Find all calcudokus here"})}var X=[{instance:"instructions",title:"Instructions"},{instance:"4x4beginner1",title:"4x4 Beginner 1"},{instance:"4x4beginner2",title:"4x4 Beginner 2"},{instance:"4x4beginner3",title:"4x4 Beginner 3"},{instance:"4x4beginner4",title:"4x4 Beginner 4"},{instance:"4x4beginner5",title:"4x4 Beginner 5"},{instance:"4x4intermediate1",title:"4x4 Intermediate 1"},{instance:"4x4intermediate2",title:"4x4 Intermediate 2"},{instance:"4x4intermediate3",title:"4x4 Intermediate 3"},{instance:"4x4intermediate4",title:"4x4 Intermediate 4"},{instance:"4x4expert1",title:"4x4 Expert 1"},{instance:"4x4expert2",title:"4x4 Expert 2"},{instance:"4x4expert3",title:"4x4 Expert 3"},{instance:"5x5beginner1",title:"5x5 Beginner 1"},{instance:"5x5beginner2",title:"5x5 Beginner 2"},{instance:"5x5intermediate1",title:"5x5 Intermediate 1"}];function G(e){var t=Object(b.useMemo)((function(){return e.name}),[e.name]),n=Object(b.useMemo)((function(){return"logic-instance-data-".concat(t)}),[t]),r=Object(b.useState)(""),a=Object(f.a)(r,2),c=a[0],i=a[1],s=Object(b.useState)(""),o=Object(f.a)(s,2),u=o[0],l=o[1],v=Object(b.useState)(null),p=Object(f.a)(v,2),g=p[0],m=p[1],O=Object(b.useState)(30),x=Object(f.a)(O,2),w=x[0],y=x[1],z=Object(b.useRef)(!0),S=Object(b.useContext)(k).user.token,N="".concat("https://immense-everglades-63113.herokuapp.com/api","/puzzles/logic/").concat(t);Object(b.useMemo)((function(){var e=JSON.parse(sessionStorage.getItem(n));if(e)return i(e.description),l(e.work),void m("saved");Object(d.a)(h.a.mark((function e(){var t,r,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(N,{method:"GET",headers:{authorization:S}});case 2:if(!(t=e.sent).ok){e.next=21;break}return e.prev=4,e.next=7,t.json();case 7:r=e.sent,a=r.description,c=r.work,sessionStorage.setItem(n,JSON.stringify({description:a,work:c})),i(a),l(c),m("saved"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0);case 19:e.next=22;break;case 21:console.log("HTTP error, status = "+t.status);case 22:case"end":return e.stop()}}),e,null,[[4,16]])})))()}),[N,S,l,n]),Object(b.useEffect)((function(){var e="".concat("https://immense-everglades-63113.herokuapp.com/api","/activepuzzle");return Object(d.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:S},body:JSON.stringify({puzzleName:"logic",puzzleId:t})});case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:S}})}}),[S,t]);var q=Object(b.useCallback)(Object(d.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m("saving"),e.next=3,fetch(N,{method:"PUT",headers:{"Content-Type":"application/json",authorization:S},body:JSON.stringify({puzzleData:u})});case 3:t=e.sent,(r=JSON.parse(sessionStorage.getItem(n))).work=u,sessionStorage.setItem(n,JSON.stringify(r)),t.ok?m("saved"):m("error");case 8:case"end":return e.stop()}}),e)}))),[S,u,N,n]);return Object(b.useEffect)((function(){if(z.current)return z.current=!1;m(null);var t=e.history.listen(q),n=setTimeout(q,3e3);return function(){clearTimeout(n),t()}}),[q,e.history,m,z]),Object(b.useEffect)((function(){var e=function(){"saved"!==g&&q()};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[q,g]),Object(b.useEffect)((function(){0===w&&(y(30),g||q())}),[w,q,g]),Object(b.useEffect)((function(){var e=setInterval((function(){return y((function(e){return e-1}))}),1e3);return function(){return clearInterval(e)}}),[y]),c?Object(j.jsxs)("div",{className:"logic instance",children:[Object(j.jsx)("p",{className:"puzzle-description",children:c}),Object(j.jsx)("textarea",{className:"work",onChange:function(e){l(e.target.value)},value:u,placeholder:"Enter your solution or any notes here!"}),Object(j.jsx)("div",{className:"saving-indicator",children:"saving"===g?"Saving...":"error"===g?"An error occurred while saving.":"saved"===g?"Saved.":" "})]}):Object(j.jsx)("h2",{className:"loading-indicator",children:"Loading..."})}X.fetchCompletionStatus=bt;var Y="Logic Puzzles",Z="logic";function $(){return Object(j.jsx)("div",{className:"list-preview",children:"Find all logic puzzles here"})}var K=[{instance:"wolfgoatcabbage",title:"Wolf, Goat, Cabbage"},{instance:"torch",title:"Bridge & Torch"},{instance:"goldboxes",title:"Find the Gold"},{instance:"10coins",title:"10 Coins"},{instance:"socks",title:"Cathy's Socks"},{instance:"childrenboat",title:"2 Adults, 2 Children, a Boat, and a River"},{instance:"applesandoranges",title:"Apples & Oranges"},{instance:"averybobbycam",title:"Avery, Bobby, & Cam"},{instance:"bear",title:"Bear"},{instance:"hats",title:"Hats"}];function Q(e){var t=Object(b.useMemo)((function(){return e.name}),[e.name]),n=Object(b.useMemo)((function(){return"light-instance-data-".concat(t)}),[t]),r=Object(b.useMemo)((function(){return JSON.parse(sessionStorage.getItem(n))}),[n]),a=Object(b.useState)(r||{size:{},work:[],beginstate:[],neighborType:"+",workPosition:0}),c=Object(f.a)(a,2),i=c[0],s=c[1],o=Object(b.useState)(i.work),u=Object(f.a)(o,2),l=u[0],v=u[1],p=Object(b.useState)(i.workPosition||l.length),g=Object(f.a)(p,2),m=g[0],O=g[1],x=i.size,w=x.cols,y=x.rows,z=i.beginstate,N=i.neighborType,q=Object(b.useState)(r?"saved":null),M=Object(f.a)(q,2),C=M[0],I=M[1],T=Object(b.useContext)(k).user.token,P="".concat("https://immense-everglades-63113.herokuapp.com/api","/puzzles/light/").concat(t);Object(b.useEffect)((function(){r||Object(d.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P,{method:"GET",headers:{authorization:T}});case 2:if(!(t=e.sent).ok){e.next=19;break}return e.prev=4,e.next=7,t.json();case 7:r=e.sent,sessionStorage.setItem(n,JSON.stringify(r)),s(r),v(r.work),I("saved"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:e.next=20;break;case 19:console.log("HTTP error, status = "+t.status);case 20:case"end":return e.stop()}}),e,null,[[4,14]])})))()}),[P,T,r,n]),Object(b.useEffect)((function(){var e="".concat("https://immense-everglades-63113.herokuapp.com/api","/activepuzzle");return Object(d.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:T},body:JSON.stringify({puzzleName:"light",puzzleId:t})});case 2:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:T}})}}),[T,t]);var E=Object(b.useCallback)((function(e){var t=function(e){var t=e.row,n=e.col;switch(N){case"x":return[{row:t-1,col:n-1},{row:t+1,col:n+1},{row:t+1,col:n-1},{row:t-1,col:n+1},{row:t,col:n}];default:return[{row:t-1,col:n},{row:t+1,col:n},{row:t,col:n-1},{row:t,col:n+1},{row:t,col:n}]}}(e);return(l.slice(0,m).filter((function(e){return t.some(V(e))})).length+(z.some(V(e))?1:0))%2>0}),[l,m,z]),L=Object(b.useCallback)((function(){for(var e;e<y;e++)for(var t;t<w;t++)if(!E({row:e,col:t}))return!1;return!0}),[w,y,E]);Object(b.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem(n));e.completed||L()&&(fetch("".concat(P,"/completed"),{method:"PUT",headers:{"Content-Type":"application/json",authorization:T},body:JSON.stringify({completed:!0})}),e.completed=!0,sessionStorage.setItem(n,JSON.stringify(e)))}),[n,L,P,T]);var A=function(){var e=Object(d.a)(h.a.mark((function e(t){var r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I("saving"),e.next=3,fetch(P,{method:"PUT",headers:{"Content-Type":"application/json",authorization:T},body:JSON.stringify({puzzleData:t})});case 3:r=e.sent,(a=JSON.parse(sessionStorage.getItem(n))).work=t,a.workPosition=t.length,sessionStorage.setItem(n,JSON.stringify(a)),r.ok?I("saved"):I("error");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){var t=[].concat(Object(S.a)(l.slice(0,m)),[e]);O(m+1),v(t),A(t)},B=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n[1],c="light-square ".concat(E({row:e,col:a})?"active":"inactive");return Object(j.jsx)("div",{className:c,onClick:function(){return J({row:e,col:a})}})},U=function(e){O(e);var t=JSON.parse(sessionStorage.getItem(n));t.workPosition=e,sessionStorage.setItem(n,JSON.stringify(t))};return Object(j.jsxs)("div",{className:"light-puzzle-container",children:[Object(j.jsxs)("div",{className:"moves-indicator",children:["Moves: ",Object(j.jsx)("span",{className:"moves",children:m})]}),Object(j.jsx)("div",{className:"light-grid",cols:w,rows:y,children:new Array(y).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return Object(j.jsx)("div",{className:"grid-row",children:Array(w).fill(null).map(B.bind(null,r))})}))}),Object(j.jsxs)("div",{className:"controller",children:[Object(j.jsx)(ee,{jump:function(){return U(0)},isactive:m>0}),Object(j.jsx)(_,{step:function(){return U(Math.max(m-1,0))},isactive:m>0}),Object(j.jsx)(te,{step:function(){return U(Math.min(m+1,l.length))},isactive:m<l.length}),Object(j.jsx)(ne,{jump:function(){return U(l.length)},isactive:m<l.length})]}),Object(j.jsx)("div",{className:"saving-indicator",children:"saving"===C?"Saving...":"error"===C?"An error occurred while saving.":"saved"===C?"Saved.":" "})]})}function V(e){var t=e.row,n=e.col;return function(e){return e.col===n&&e.row===t}}function _(e){var t=e.step,n=e.isactive;return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"step back nav-button",isactive:n.toString(),children:Object(j.jsx)("path",{d:"M1344 576v896q0 26-19 45t-45 19-45-19l-448-448q-19-19-19-45t19-45l448-448q19-19 45-19t45 19 19 45z"})})}function ee(e){var t=e.jump,n=e.isactive;return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"jump back nav-button",isactive:n.toString(),children:Object(j.jsx)("path",{d:"M1811 269q19-19 32-13t13 32v1472q0  26-13 32t-32-13l-710-710q-8-9-13-19v710q0  26-13 32t-32-13l-710-710q-19-19-19-45t19-45l710-710q19-19  32-13t13 32v710q5-11 13-19z"})})}function te(e){var t=e.step,n=e.isactive;return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"step forward nav-button",isactive:n.toString(),children:Object(j.jsx)("path",{d:"M1280 1024q0 26-19 45l-448 448q-19 19-45  19t-45-19-19-45v-896q0-26 19-45t45-19 45  19l448 448q19 19 19 45z"})})}function ne(e){var t=e.jump,n=e.isactive;return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"jump forward nav-button",isactive:n.toString(),children:Object(j.jsx)("path",{d:"M237 1779q-19 19-32 13t-13-32v-1472q0-26 13-32t32 13l710  710q8 8 13 19v-710q0-26 13-32t32 13l710 710q19 19 19 45t-19  45l-710 710q-19 19-32 13t-13-32v-710q-5 10-13 19z"})})}K.fetchCompletionStatus=bt;var re={size:{cols:1,rows:1},beginstate:[],work:[]},ae={size:{cols:3,rows:1},beginstate:[],work:[]},ce={size:{cols:3,rows:3},beginstate:[],work:[]},ie={size:{cols:3,rows:3},beginstate:[],work:[],neighborType:"x"};function se(e){var t=e.history;return Object(j.jsxs)("div",{className:"light-instructions",children:[Object(j.jsxs)("h2",{children:["Light Puzzle Instructions",Object(j.jsx)("hr",{})]}),Object(j.jsxs)("div",{className:"steps",children:[Object(j.jsxs)("div",{className:"step",children:[Object(j.jsx)("p",{children:"Here, the goal is to light up all the squares. Clicking a square toggles it on and off (clicking a dark square will light it up and clicking a lit square will make it dark again)."}),Object(j.jsx)(ue,{data:re})]}),Object(j.jsxs)("div",{className:"step",children:[Object(j.jsx)("p",{children:"However, when you click on a square the same thing will happen to squares that are next to it."}),Object(j.jsx)(ue,{data:ae})]}),Object(j.jsxs)("div",{className:"step",children:[Object(j.jsx)("p",{children:"You can use the navigation buttons at the bottom of the puzzle to go back and forward through the moves you've made."}),Object(j.jsx)(ue,{data:ae,showNav:!0})]}),Object(j.jsx)("div",{className:"step",children:Object(j.jsx)("p",{className:"emphasized",children:"It can be tempting to click randomly, but take it slow! Try to light up all the squares using as few moves as you can!"})})]}),Object(j.jsx)("button",{className:"try-it",onClick:function(){return t.push("/light")},children:"Try It!"})]})}function oe(e){var t=e.history;return Object(j.jsxs)("div",{className:"light-instructions",children:[Object(j.jsxs)("h2",{children:["Light Puzzle-X Instructions",Object(j.jsx)("hr",{})]}),Object(j.jsxs)("div",{className:"steps",children:[Object(j.jsx)("div",{className:"step",children:Object(j.jsx)("p",{children:'Puzzles marked with an "X" work a little differently. Clicking a square will light up squares the diagonal to it instead of ones directly next to it.'})}),Object(j.jsxs)("div",{className:"examples",children:[Object(j.jsxs)("div",{className:"example",children:["Normal Puzzle",Object(j.jsx)(ue,{data:ce})]}),Object(j.jsxs)("div",{className:"example",children:["Puzzle-X",Object(j.jsx)(ue,{data:ie})]})]})]}),Object(j.jsx)("button",{className:"try-it",onClick:function(){return t.push("/light/smallx")},children:"Try It!"})]})}function ue(e){var t=e.data,n=e.showNav,r=Object(b.useState)(t.work),a=Object(f.a)(r,2),c=a[0],i=a[1],s=Object(b.useState)(0),o=Object(f.a)(s,2),u=o[0],l=o[1],h=t.size,d=h.cols,v=h.rows,p=t.beginstate,g=t.neighborType,m=function(e){var t=e.row,n=e.col;switch(g){case"x":return[{row:t-1,col:n-1},{row:t+1,col:n+1},{row:t+1,col:n-1},{row:t-1,col:n+1},{row:t,col:n}];default:return[{row:t-1,col:n},{row:t+1,col:n},{row:t,col:n-1},{row:t,col:n+1},{row:t,col:n}]}},O=function(e){l(e)},x=function(e){i([].concat(Object(S.a)(c.slice(0,u)),[e])),l(u+1)},w=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n[1],i=m({row:e,col:a}),s=c.slice(0,u).filter((function(e){return i.some(le(e))})),o=(s.length+(p.some(le({row:e,col:a}))?1:0))%2>0,l="light-square ".concat(o?"active":"inactive");return Object(j.jsx)("div",{className:l,onClick:function(){return x({row:e,col:a})}})};return Object(j.jsxs)("div",{className:"light-puzzle-container",children:[Object(j.jsx)("div",{className:"light-grid",cols:d,rows:v,children:new Array(v).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return Object(j.jsx)("div",{className:"grid-row",children:Array(d).fill(null).map(w.bind(null,r))})}))}),n?Object(j.jsxs)("div",{className:"controller",children:[Object(j.jsx)(ee,{jump:function(){return O(0)},isactive:u>0}),Object(j.jsx)(_,{step:function(){return O(Math.max(u-1,0))},isactive:u>0}),Object(j.jsx)(te,{step:function(){return O(Math.min(u+1,c.length))},isactive:u<c.length}),Object(j.jsx)(ne,{jump:function(){return O(c.length)},isactive:u<c.length})]}):null]})}function le(e){var t=e.row,n=e.col;return function(e){return e.col===n&&e.row===t}}var he=Array.from({length:5},(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return r+1}));var de="Light Puzzles",fe="light";function je(){return Object(j.jsx)("div",{className:"list-preview",children:"Find all light puzzles here"})}var be=[{instance:"instructions",title:"Instructions"},{instance:"small",title:"Small"},{instance:"medium",title:"Medium"},{instance:"large",title:"Large"},{instance:"instructionsx",title:"Instructions-X"},{instance:"smallx",title:"Small-X"},{instance:"mediumx",title:"Medium-X"},{instance:"largex",title:"Large-X"}];be.fetchCompletionStatus=function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bt(t),be.forEach((function(e){var t=e.instance;if(!t.match("instructions")){for(var n=!0,r=1;r<=5;r++){var a="light-instance-data-".concat(t).concat(r),c=JSON.parse(sessionStorage.getItem(a));c&&c.completed||(n=!1)}sessionStorage.setItem("light-instance-data-".concat(t),JSON.stringify({completed:n}))}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ve=function(e){var t=e.history,n=e.name,r=e.match,a=Object(b.useState)(1),c=Object(f.a)(a,2),i=c[0],s=c[1];return Object(b.useEffect)((function(){n.match("instructions")||t.push("/light/".concat(n,"/").concat(i))}),[i,n,t]),"instructionsx"===n?Object(j.jsx)(oe,{history:t}):Object(j.jsxs)("div",{className:"light category-container ".concat(n),children:[Object(j.jsxs)(O.d,{children:[he.map(function(e,t){return Object(j.jsx)(O.b,{path:"".concat(e.url,"/").concat(t),render:function(e){return Object(j.jsx)(Q,Object(u.a)(Object(u.a)({},e),{},{name:"".concat(n).concat(t)}))}},t)}.bind(null,r)),Object(j.jsx)(O.b,{render:function(){return t.push("/light")}})]}),Object(j.jsxs)("div",{className:"selector-container",children:[Object(j.jsx)("button",{className:"previous selector  ".concat(1===i?"inactive":"active"),onClick:function(){return s(Math.max(i-1,1))},children:"Prev"}),he.map((function(e){return Object(j.jsx)("button",{onClick:function(){return s(e)},className:"instance selector ".concat(e===i?"selected":"")},"selector-".concat(e))})),Object(j.jsx)("button",{className:"next selector  ".concat(i===he.length?"inactive":"active"),onClick:function(){return s(Math.min(i+1,5))},children:"Next"})]})]})};function pe(e){return{x:e.y,y:-e.x}}function ge(e,t){var n=Object(f.a)(t,2),r=n[0],a=n[1],c=pe({x:a.x-r.x,y:a.y-r.y}),i=[r,we(r,c)],s=[a,we(a,c)];return Oe(e,i)+Oe(e,s)<=me(r,a)+1?Oe(e,[r,a]):Math.min(me(e,r),me(e,a))}function me(e,t){return ke(xe(e,t))}function Oe(e,t){var n=Object(f.a)(t,2),r=n[0],a=xe(r,n[1]),c=xe(e,r);return Math.abs(a.x*c.y-a.y*c.x)/ke(a)}function xe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function we(e,t){return{x:e.x+t.x,y:e.y+t.y}}function ye(e,t){return{x:e.x*t,y:e.y*t}}function ke(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function ze(e,t){return e.x*t.x+e.y*t.y}function Se(e){var t=Object(b.useRef)(null),n=e.puzzleData,r=e.sticks,a=e.setSticks,c=e.updateWork,i=n.height,s=n.width,u=n.selectionProximity,l=n.startingConfiguration,h=n.stickLength,d=n.stickWidth,v=Object(b.useState)(null),p=Object(f.a)(v,2),g=p[0],m=p[1],O=Object(b.useState)(null),x=Object(f.a)(O,2),w=x[0],y=x[1],k=Object(b.useState)({x:0,y:0}),z=Object(f.a)(k,2),N=z[0],q=z[1],M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=e.target.getBoundingClientRect(),r={x:(t.clientX-n.left)/n.width*s,y:(t.clientY-n.top)/n.height*i};return q(r),r},C=Object(b.useCallback)((function(e){if(!w)return r.flatMap((function(e){return e})).reduce((function(t,n){var r=me(n,e),a=t?me(e,t):1/0;return r<Math.min(a,u)?n:t}),null)}),[r,u,w]),I=Object(b.useCallback)((function(e){return w||r.reduce((function(t,n){return ge(e,n)<Math.min(t?ge(e,t):1/0,u)?n:t}),null)}),[r,u,w]),T=function(e){var t=C(e);if(t){var n=r.find((function(e){return e.includes(t)}));return m(t),y(n),t}},P=function(e){var t=I(e);return y(t),t},E=function(e){if(g){var t=w.find((function(e){return e!==g})),n=xe(e,t),c=ye(n,h/ke(n));g.x=t.x+c.x,g.y=t.y+c.y,a(Object(S.a)(r))}},L=function(){y(null),m(null)},A=function(){c(),L()},J=Object(b.useCallback)((function(e){e.clearRect(0,0,s,i),e.beginPath(),e.lineWidth=d,e.lineCap="round",e.stroke();var t,n=Object(o.a)(r);try{for(n.s();!(t=n.n()).done;){var a=Object(f.a)(t.value,2),c=a[0],u=a[1];e.beginPath(),e.lineWidth=d,e.strokeStyle="#0b032d",e.moveTo(c.x,c.y),e.lineTo(u.x,u.y),e.stroke()}}catch(p){n.e(p)}finally{n.f()}var l=C(N)||g;if(l)e.beginPath(),e.arc(l.x,l.y,2*d,0,2*Math.PI),e.fillStyle="#7354f455",e.shadowBlur=d,e.shadowColor=e.fillStyle,e.fill(),e.shadowBlur=0,e.shadowColor="#0b032d";else{var h=I(N)||w;if(h){var j=Object(f.a)(h,2),b=j[0],v=j[1];e.beginPath(),e.strokeStyle="#7354f455",e.lineWidth=3*d,e.moveTo(b.x,b.y),e.lineTo(v.x,v.y),e.stroke()}}}),[r,i,s,l,N,C,I,g,w,d]);return Object(b.useEffect)((function(){var e=t.current.getContext("2d");J(e)}),[J]),Object(b.useEffect)((function(){var e=function(e){return e.preventDefault()};return window.addEventListener("touchmove",e),window.removeEventListener("touchmove",e)})),Object(j.jsx)("canvas",{id:"mandelbrot-canvas",ref:t,height:i,width:s,onTouchStart:function(e){var t=e.touches[0],n=M(e,t);T(n)||P(n)},onTouchEnd:A,onTouchMove:function(e){var t=e.touches[0],n=M(e,t);E(n),function(e){if(!g&&w){var t=ye(we.apply(void 0,Object(S.a)(w)),.5),n={x:e.x-t.x,y:e.y-t.y};for(var c in w){var i=w[c];w[c]=we(i,n)}a(Object(S.a)(r))}}(n)},onMouseDown:function(e){var t;t=M(e),T(t)||P(t)},onMouseUp:A,onMouseLeave:L,onMouseMove:function(e){var t=M(e);E(t),function(e){if(!g&&w){var t=e.target.getBoundingClientRect();for(var n in w){var c=w[n];w[n]={x:c.x+e.movementX*s/t.width,y:c.y+e.movementY*i/t.height}}a(Object(S.a)(r))}}(e)},className:I(N)||C(N)?"selecting":""})}function Ne(e){var t=Object(b.useMemo)((function(){return e.name}),[e.name]),n=Object(b.useMemo)((function(){return"matchstick-instance-data-".concat(t)}),[t]),r=Object(b.useMemo)((function(){return JSON.parse(sessionStorage.getItem(n))}),[n]),a=Object(b.useState)(r||{size:{},work:[],startingConfiguration:[],stickLength:0,selectionProximity:0,height:0,width:0}),c=Object(f.a)(a,2),i=c[0],s=c[1],o=Object(b.useState)(i.work),l=Object(f.a)(o,2),v=l[0],p=l[1],g=Object(b.useState)(r?"saved":null),m=Object(f.a)(g,2),O=m[0],x=m[1],w=Object(b.useContext)(k).user.token,y="".concat("https://immense-everglades-63113.herokuapp.com/api","/puzzles/matchstick/").concat(t);Object(b.useEffect)((function(){r||Object(d.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y,{method:"GET",headers:{authorization:w}});case 2:if(!(t=e.sent).ok){e.next=19;break}return e.prev=4,e.next=7,t.json();case 7:r=e.sent,sessionStorage.setItem(n,JSON.stringify(r)),s(r),p(r.work),x("saved"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:e.next=20;break;case 19:console.log("HTTP error, status = "+t.status);case 20:case"end":return e.stop()}}),e,null,[[4,14]])})))()}),[y,w,r,n]),Object(b.useEffect)((function(){var e="".concat("https://immense-everglades-63113.herokuapp.com/api","/activepuzzle");return Object(d.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:w},body:JSON.stringify({puzzleName:"matchstick",puzzleId:t})});case 2:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:w}})}}),[w,t]);var z=function(){var e=Object(d.a)(h.a.mark((function e(){var t,r,a,c=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:v,x("saving"),e.next=4,fetch(y,{method:"PUT",headers:{"Content-Type":"application/json",authorization:w},body:JSON.stringify({puzzleData:t})});case 4:r=e.sent,(a=JSON.parse(sessionStorage.getItem(n))).work=t,sessionStorage.setItem(n,JSON.stringify(a)),r.ok?x("saved"):x("error");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"matchstick puzzle-container",children:[Object(j.jsx)("p",{className:"description",children:i.description}),Object(j.jsxs)("div",{className:"matchstick display-container",children:[Object(j.jsx)(qe,{reset:function(){var e=i.startingConfiguration.map((function(e){return e.map((function(e){return Object(u.a)({},e)}))}));p(e),z(e)},isactive:!0}),Object(j.jsx)(Se,{puzzleData:i,sticks:v,setSticks:p,updateWork:z}),Object(j.jsx)("div",{className:"saving-indicator",children:"saving"===O?"Saving...":"error"===O?"An error occurred while saving.":"saved"===O?"Saved.":" "})]})]})}function qe(e){var t=e.reset,n=e.isactive;return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"reset nav-button",isactive:n.toString(),children:Object(j.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}var Me={height:1024,width:1024,selectionProximity:25,stickLength:400,stickWidth:12,startingConfiguration:[[{x:100,y:312},{x:100,y:712}],[{x:130,y:312},{x:130,y:712}],[{x:160,y:312},{x:160,y:712}]]};function Ce(e){var t=e.history;return Object(j.jsxs)("div",{className:"matchstick-instructions",children:[Object(j.jsxs)("h2",{children:["Matchstick Puzzle Instructions",Object(j.jsx)("hr",{})]}),Object(j.jsxs)("div",{className:"instructions",children:[Object(j.jsx)("p",{children:"Before you try the puzzles, see if you can make a triangle using the sticks below."}),Object(j.jsx)("p",{children:"You can move sticks by dragging them from their middle and rotate sticks by dragging them from either end."}),Object(j.jsx)("p",{children:"The button in the upper left resets the sticks to their original position."}),Object(j.jsx)(Ie,{data:Me}),Object(j.jsx)("p",{children:"These puzzle can be really tricky, good luck!"})]}),Object(j.jsx)("button",{className:"try-it",onClick:function(){return t.push("/matchstick")},children:"Try It!"})]})}function Ie(e){var t=e.data,n=Object(b.useState)(t.startingConfiguration),r=Object(f.a)(n,2),a=r[0],c=r[1],i=function(){var e=t.startingConfiguration.map((function(e){return e.map((function(e){return Object(u.a)({},e)}))}));c(e)};return Object(b.useEffect)(i,[]),Object(j.jsxs)("div",{className:"matchstick puzzle-container",children:[Object(j.jsx)("p",{className:"description",children:t.description}),Object(j.jsxs)("div",{className:"matchstick display-container",children:[Object(j.jsx)(Te,{reset:i,isactive:!0}),Object(j.jsx)(Se,{puzzleData:t,sticks:a,setSticks:c,updateWork:function(){}})]})]})}function Te(e){var t=e.reset,n=e.isactive;return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"reset nav-button",isactive:n.toString(),children:Object(j.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}var Pe="Matchstick Puzzles",Ee="matchstick";function Le(){return Object(j.jsx)("div",{className:"list-preview",children:"Find all matchtick puzzles here"})}var Ae=[{instance:"instructions",title:"Instructions"},{instance:"fish",title:"Fish"},{instance:"squares1",title:"Squares 1"},{instance:"squares2",title:"Squares 2"},{instance:"squares3",title:"Squares 3"},{instance:"donkey",title:"Donkey"},{instance:"squares4",title:"Squares 4"},{instance:"squares5",title:"Squares 5"}];Ae.fetchCompletionStatus=bt;Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2);var Je={objective:[[[-Math.sqrt(2),-Math.sqrt(2)],[Math.sqrt(2),-Math.sqrt(2)],[Math.sqrt(2),Math.sqrt(2)],[-Math.sqrt(2),Math.sqrt(2)]]],startingCenter:{x:768,y:384},unitLength:100,height:768,width:1024,selectionProximity:20,objectiveCenter:{x:300,y:384},work:{}};function Be(e){var t=e.unitLength,n=e.startingCenter,r=e.work,a=Object(u.a)(Object(u.a)({},function(e){var t=e.startingCenter,n=e.unitLength;return{largeTriangle1:{center:{x:t.x,y:t.y+2*n*Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8)},angle:-Math.PI/2},largeTriangle2:{center:{x:t.x-2*n*Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8),y:t.y},angle:0},mediumTriangle:{center:{x:t.x+n*(Math.sqrt(2)-Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8)),y:t.y-n*(Math.sqrt(2)-Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8))},angle:-Math.PI/4},square:{center:{x:t.x,y:t.y-n*Math.sqrt(2)/2},angle:0},parallelogram:{center:{x:t.x+n*(3*Math.sqrt(2)/4),y:t.y+n*(Math.sqrt(2)/4)},angle:-Math.PI/4},smallTriangle1:{center:{x:t.x-n*Math.sqrt(2)/2,y:t.y-n*(Math.sqrt(2)/2+Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8))},angle:Math.PI/2},smallTriangle2:{center:{x:t.x+n*(Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8)),y:t.y},angle:Math.PI}}}({unitLength:t,startingCenter:n})),r);return[De(Object(u.a)(Object(u.a)({},a.largeTriangle1),{},{color:"#7d99ed",size:2*t,name:"largeTriangle1"})),De(Object(u.a)(Object(u.a)({},a.largeTriangle2),{},{color:"#70c2df",size:2*t,name:"largeTriangle2"})),De(Object(u.a)(Object(u.a)({},a.mediumTriangle),{},{color:"#9edfe5",size:t*Math.sqrt(2),name:"mediumTriangle"})),Fe(Object(u.a)(Object(u.a)({},a.square),{},{color:"#c3ebef",size:t})),Re(Object(u.a)(Object(u.a)({},a.parallelogram),{},{color:"#3f2fa5",size:t})),De(Object(u.a)(Object(u.a)({},a.smallTriangle1),{},{color:"#6146d9",size:t,name:"smallTriangle1"})),De(Object(u.a)(Object(u.a)({},a.smallTriangle2),{},{color:"#7e6cfb",size:t,name:"smallTriangle2"}))]}function Ue(e){var t=e.shape,n=e.relAngle,r=e.distanceFromCenter,a={relAngle:n};return Object.defineProperty(a,"x",{get:function(){return t.center.x+Math.cos(t.angle+n)*r}}),Object.defineProperty(a,"y",{get:function(){return t.center.y+Math.sin(t.angle+n)*r}}),a}function De(e){var t=e.size,n=e.center,r=e.angle,a=e.color,c=e.name,i=t*Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8),s=t*Math.sin(Math.PI/4)/Math.sin(5*Math.PI/8),o={center:n,color:a,angle:r,name:c};return o.vertices=[{relAngle:0,distanceFromCenter:i},{relAngle:5*Math.PI/8,distanceFromCenter:s},{relAngle:-5*Math.PI/8,distanceFromCenter:s}].map((function(e){return Ue(Object(u.a)(Object(u.a)({},e),{},{shape:o}))})),o}function Fe(e){var t=e.size,n=e.center,r=e.angle,a=e.color,c=t*Math.sqrt(2)/2,i={center:n,color:a,angle:r,name:"square"};return i.vertices=Array.from({length:4},(function(e,t){return Ue({shape:i,distanceFromCenter:c,relAngle:t*Math.PI/2})})),i}function Re(e){var t=e.size,n=e.center,r=e.angle,a=e.color,c=t/2,i=t/Math.sin(Math.atan2(2,1)),s={center:n,color:a,angle:r,name:"parallelogram"};return s.vertices=[{relAngle:0,distanceFromCenter:c},{relAngle:-Math.atan2(2,1),distanceFromCenter:i},{relAngle:Math.PI,distanceFromCenter:c},{relAngle:-(Math.PI+Math.atan2(2,1)),distanceFromCenter:i}].map((function(e){return Ue(Object(u.a)(Object(u.a)({},e),{},{shape:s}))})),s}var We=n(78);function He(e){var t=e.ctx,n=e.width,r=e.height,a=e.objective,c=e.shapes,i=e.vertexSelection,s=e.shapeSelection,o=e.objectiveCenter,l=e.unitLength;t.clearRect(0,0,n,r),a.forEach(Ge.bind(null,t,o,l)),c.forEach(Xe.bind(null,t)),i?(t.beginPath(),t.arc(i.x,i.y,6,0,2*Math.PI),t.fillStyle="#c1b4fa",t.shadowBlur=4,t.shadowColor=t.fillStyle,t.fill(),t.shadowBlur=0,t.shadowColor="#0b032d"):s&&Xe(t,Object(u.a)(Object(u.a)({},s),{},{color:"#c1b4fa"}))}function Xe(e,t){var n=Object(We.a)(t.vertices),r=n[0],a=n.slice(1),c=t.color;t.center;e.beginPath(),e.moveTo(r.x,r.y),a.forEach((function(t){return e.lineTo(t.x,t.y)})),e.closePath(),e.fillStyle=c,e.fill()}function Ge(e,t,n,r){var a=r.map((function(e){var r=Object(f.a)(e,2),a=r[0],c=r[1];return[t.x+n*a,t.y+n*c]}));e.beginPath();var c=Object(We.a)(a),i=c[0],s=c.slice(1);e.moveTo.apply(e,Object(S.a)(i)),s.forEach((function(t){return e.lineTo.apply(e,Object(S.a)(t))})),e.closePath(),e.fillStyle="#0b032d",e.fill()}function Ye(e){var t=e.data,n=e.work,r=e.updateWork,a=e.saveStatus,c=Object(b.useRef)(null),i=Object(b.useMemo)((function(){return t}),[t]),s=i.height,o=i.width,u=i.selectionProximity,l=i.unitLength,h=i.objective,d=i.startingCenter,v=i.objectiveCenter,p=Object(b.useState)(null),g=Object(f.a)(p,2),m=g[0],O=g[1],x=Object(b.useState)(null),w=Object(f.a)(x,2),y=w[0],k=w[1],z=Object(b.useState)({x:0,y:0}),N=Object(f.a)(z,2),q=N[0],M=N[1],C=Object(b.useState)(Be({unitLength:l,startingCenter:d,work:n})),I=Object(f.a)(C,2),T=I[0],P=I[1],E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=e.target.getBoundingClientRect(),r={x:(t.clientX-n.left)/n.width*o,y:(t.clientY-n.top)/n.height*s};return M(r),r},L=Object(b.useCallback)((function(e){if(!y){var t=T.flatMap((function(e){return e.vertices}));return m||t.reduce((function(t,n){var r=me(n,e),a=t?me(e,t):1/0;return r<Math.min(a,u)?n:t}),null)}}),[T,m,y,u]),A=Object(b.useCallback)((function(e){return y||T.reduce((function(t,n){return function(e){var t=e.shape,n=t.vertices,r=t.center,a=e.point;return n.every((function(e,t,n){var c=n[(t+1)%n.length],i=[{x:e.x,y:e.y},{x:c.x,y:c.y}];return function(e,t,n){var r=Object(f.a)(n,2),a=r[0],c=r[1],i=xe(e,a),s=xe(t,a),o=pe(xe(c,a));return ze(i,o)*ze(s,o)>=0}(a,r,i)}))}({shape:n,point:e})?n:t}),null)}),[T,y]),J=function(e){(function(e){var t=L(e);if(t){var n=T.find((function(e){return e.vertices.includes(t)}));return O(t),k(n),t}})(e)||function(e){var t=A(e);k(t)}(e)},B=function(){k(null),O(null)};return Object(b.useEffect)((function(){He({ctx:c.current.getContext("2d"),shapeSelection:y||A(q),vertexSelection:m||L(q),height:s,width:o,shapes:T,objective:h,objectiveCenter:v,unitLength:l})}),[y,A,m,L,s,o,T,h,q,v,l]),Object(j.jsxs)("div",{className:"tangram display-container",children:[Object(j.jsx)(Ze,{reset:function(){var e=Be({unitLength:l,startingCenter:d,work:{}});P(e),r(e)},isactive:!0}),Object(j.jsx)("canvas",{id:"tangram-canvas",ref:c,height:s,width:o,onMouseDown:function(e){J(E(e))},onMouseUp:function(){!function(){if(m){var e=y.vertices,t=y.center,n=e.indexOf(m),r=e[(n+1)%e.length],a={x:r.x,y:r.y},c=xe(m,r),i=xe(e[0],t),s=Math.atan2(c.y,c.x)-Math.atan2(i.y,i.x),o=Math.atan2(c.y,c.x),u=Array.from({length:25},(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return Math.PI*r/12-Math.PI})).find((function(e){return Math.abs(o-e)<=Math.PI/23}));y.angle=u-s,y.center=we(a,xe(t,r)),P(Object(S.a)(T))}}(),r(T),B()},onMouseLeave:B,onMouseMove:function(e){!function(e){if(m){var t=y.vertices,n=y.center,r=t.indexOf(m),a=t[(r+1)%t.length],c={x:a.x,y:a.y},i=xe(m,a),s=xe(t[0],n),o=Math.atan2(i.y,i.x)-Math.atan2(s.y,s.x),u=xe(e,a),l=Math.atan2(u.y,u.x);y.angle=l-o,y.center=we(c,xe(n,a)),P(Object(S.a)(T))}}(E(e)),function(e){if(!m&&y){var t=e.target.getBoundingClientRect(),n=y.center;y.center={x:n.x+e.movementX*o/t.width,y:n.y+e.movementY*s/t.height},P(Object(S.a)(T))}}(e)},className:A(q)||L(q)?"selecting":""}),Object(j.jsx)("div",{className:"saving-indicator",children:"saving"===a?"Saving...":"error"===a?"An error occurred while saving.":"saved"===a?"Saved.":" "})]})}function Ze(e){var t=e.reset,n=e.isactive;return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"reset nav-button",isactive:n.toString(),children:Object(j.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}function $e(e){var t=Object(b.useMemo)((function(){return e.name}),[e.name]),n=Object(b.useMemo)((function(){return"tangram-instance-data-".concat(t)}),[t]),r=Object(b.useMemo)((function(){return JSON.parse(sessionStorage.getItem(n))}),[n]),a=Object(b.useState)(r||Je),c=Object(f.a)(a,2),i=c[0],s=c[1],l=Object(b.useState)(i.work),v=Object(f.a)(l,2),p=v[0],g=v[1],m=Object(b.useState)(r?"saved":null),O=Object(f.a)(m,2),x=O[0],w=O[1],y=Object(b.useContext)(k).user.token,z="".concat("https://immense-everglades-63113.herokuapp.com/api","/puzzles/tangram/").concat(t);Object(b.useEffect)((function(){r||Object(d.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(z,{method:"GET",headers:{authorization:y}});case 2:if(!(t=e.sent).ok){e.next=19;break}return e.prev=4,e.next=7,t.json();case 7:r=e.sent,sessionStorage.setItem(n,JSON.stringify(r)),s(r),g(r.work),w("saved"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:e.next=20;break;case 19:console.log("HTTP error, status = "+t.status);case 20:case"end":return e.stop()}}),e,null,[[4,14]])})))()}),[z,y,r,n]),Object(b.useEffect)((function(){var e="".concat("https://immense-everglades-63113.herokuapp.com/api","/activepuzzle");return Object(d.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:y},body:JSON.stringify({puzzleName:"tangram",puzzleId:t})});case 2:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:y}})}}),[y,t]);var S=function(){var e=Object(d.a)(h.a.mark((function e(t){var r,a,c,i,s,l,d,f,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(u.a)({},p),a=Object(o.a)(t);try{for(a.s();!(c=a.n()).done;)i=c.value,s=i.name,l=i.center,d=i.angle,r[s]={center:l,angle:d}}catch(h){a.e(h)}finally{a.f()}return g(r),w("saving"),e.next=7,fetch(z,{method:"PUT",headers:{"Content-Type":"application/json",authorization:y},body:JSON.stringify({puzzleData:r})});case 7:f=e.sent,(j=JSON.parse(sessionStorage.getItem(n))).work=r,sessionStorage.setItem(n,JSON.stringify(j)),f.ok?w("saved"):w("error");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"tangram puzzle-container",children:[Object(j.jsx)("p",{className:"description",children:i.description}),Object(j.jsx)(Ye,{data:i,work:p,updateWork:S,saveStatus:x})]})}function Ke(e){var t=e.history;return Object(j.jsxs)("div",{className:"tangram tangram-instructions",children:[Object(j.jsxs)("h2",{children:["Tangram Instructions",Object(j.jsx)("hr",{})]}),Object(j.jsx)("p",{className:"instructions",children:"In tangram puzzles you will be given the same pieces each time and be tasked with making different shapes out of them! To move a piece, simply drag it. And to rotate a piece drag one of its corners."}),Object(j.jsx)(Ye,{data:Je,work:{},updateWork:function(){}}),Object(j.jsx)("button",{className:"try-it",onClick:function(){return t.push("/tangram")},children:"Try It!"})]})}var Qe="Tangrams",Ve="tangram";function _e(){return Object(j.jsx)("div",{className:"list-preview",children:"Find all tangram puzzles here"})}var et=[{instance:"instructions",title:"Instructions"},{instance:"triangle",title:"Triangle"},{instance:"rectangle",title:"Rectangle"},{instance:"trapezoid",title:"Trapezoid"},{instance:"twotriangles",title:"Two Triangles"},{instance:"twosquares",title:"Two Squares"},{instance:"cube",title:"Cube"},{instance:"hexagon",title:"Hexagon"},{instance:"incompleterectangle",title:"Incomplete Rectangle"}];et.fetchCompletionStatus=bt;var tt=[a,r,c,i,s],nt="/light/instructions",rt=function(){return Object(j.jsx)("div",{className:"potd-preview",children:"Light up all the lights!"})};function at(e){var t=e.history,n=Object(b.useContext)(k).user.token;return Object(j.jsxs)("div",{className:"dashboard-container",children:[Object(j.jsx)(ct,{history:t,token:n}),Object(j.jsxs)("div",{className:"puzzle-list-container",children:[Object(j.jsx)("h2",{children:"Individual Work"}),Object(j.jsx)("ul",{children:tt.map(it.bind(null,t,n))})]})]})}function ct(e){var t=rt;return Object(j.jsxs)("div",{className:"potd-container",onClick:function(){return e.history.push(nt,{token:e.token})},children:[Object(j.jsx)("h2",{children:"Puzzle of the Day"}),Object(j.jsx)(t,{})]})}function it(e,t,n){return Object(j.jsxs)("li",{onClick:function(){return e.push("/".concat(n.id),{token:t})},children:[Object(j.jsx)("h3",{children:n.name}),n.ListPreview()]},n.id)}function st(e){var t=e.history,n=e.instanceList,r=e.title,a=e.puzzleType,c=Object(b.useContext)(k).user,i=Object(b.useState)(!1),s=Object(f.a)(i,2),o=s[0],u=s[1];Object(b.useEffect)((function(){o||Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchCompletionStatus(c);case 2:u(!0);case 3:case"end":return e.stop()}}),e)})))()}),[o,n,c]);return Object(j.jsxs)("div",{className:"instance-list-container",children:[Object(j.jsx)("h2",{children:r}),Object(j.jsx)("ul",{style:{"grid-template-rows":"repeat(".concat(Math.ceil(n.length/2),", 1fr)")},children:n.map(function(e,t){var n,r=t.instance,c=t.title,i="".concat(a,"-instance-data-").concat(r),s=JSON.parse(sessionStorage.getItem(i)),o=!!s&&s.completed;return Object(j.jsx)("li",{onClick:function(){return e.push("/".concat(a,"/").concat(r))},className:o?"completed":"",children:Object(j.jsx)("h3",{children:(n=c,n.replace(/^./,(function(e){return e.toUpperCase()})))})},r)}.bind(null,t))})]})}function ot(e){var t=e.match,n=e.Instance,r=e.Instructions,a=e.id,c=e.name,i=e.instanceList;return Object(j.jsxs)(O.d,{children:[Object(j.jsx)(O.b,{path:"".concat(t.url,"/instructions"),render:function(e){return Object(j.jsx)(r,Object(u.a)({},e))}},"instructions"),i.map(function(e,t){var r=t.instance;return Object(j.jsx)(O.b,{path:"".concat(e.url,"/").concat(r),render:function(e){return Object(j.jsx)(n,Object(u.a)(Object(u.a)({},e),{},{name:r}))}},r)}.bind(null,t)),Object(j.jsx)(O.b,{exact:!0,path:t.url,render:function(e){return Object(j.jsx)(st,Object(u.a)(Object(u.a)({},e),{},{instanceList:i,title:c,puzzleType:a}))}})]})}n(264);var ut=Object(x.a)(),lt=Object(j.jsx)("path",{d:"M1792 1024v128q0 53-32.5 90.5t-84.5 37.5h-704l293 294q38 36 38 90t-38 90l-75 76q-37 37-90 37-52 0-91-37l-651-652q-37-37-37-90 0-52 37-91l651-650q38-38 91-38 52 0 90 38l75 74q38 38 38 91t-38 91l-293 293h704q52 0 84.5 37.5t32.5 90.5z"});function ht(){var e=JSON.parse(sessionStorage.getItem("mcub-student-user")),t=Object(b.useState)(e),n=Object(f.a)(t,2),r=n[0],a=n[1],c={user:r,setUser:a};return Object(b.useEffect)((function(){r&&Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt(r);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}),[r]),Object(j.jsx)(m.a,{history:ut,basename:"/",children:Object(j.jsx)(k.Provider,{value:c,children:r?Object(j.jsxs)("div",{children:[Object(j.jsxs)("nav",{className:"main-nav",children:[Object(j.jsx)(ft,{student:r.student,setUser:a}),Object(j.jsxs)(O.d,{children:[Object(j.jsx)(O.b,{exact:!0,path:"/"}),Object(j.jsx)(O.b,{component:dt})]})]}),Object(j.jsxs)(O.d,{children:[tt.map(jt),Object(j.jsx)(O.b,{path:"/login",component:z}),Object(j.jsx)(O.b,{path:"/",component:at})]})]}):Object(j.jsxs)(O.d,{children:[Object(j.jsx)(O.b,{path:"/login",component:z}),Object(j.jsx)(O.b,{path:"/",children:Object(j.jsx)(O.a,{to:"/login"})})]})})})}function dt(e){var t=e.history,n=window.location.href.match(/#(.*)\/[^/]+$/)[1];return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:function(){return t.push(n)},className:"back-button",children:lt})}function ft(e){var t=e.student,n=e.setUser;return Object(j.jsxs)("div",{className:"profile-bar",children:[Object(j.jsxs)("span",{className:"student-name",children:[pt(t.first)," ",pt(t.last)]}),Object(j.jsx)("button",{onClick:function(){n(null),sessionStorage.removeItem("mcub-student-user")},className:"log-out",children:"Log Out"})]})}function jt(e){var t=e.Instance,n=e.id,r=e.Instructions,a=e.name,c=e.instanceList;return Object(j.jsx)(O.b,{path:"/".concat(e.id),render:function(e){return Object(j.jsx)(ot,Object(u.a)(Object(u.a)({},e),{},{Instance:t,id:n,Instructions:r,name:a,instanceList:c}))}},e.id)}function bt(e){return vt.apply(this,arguments)}function vt(){return(vt=Object(d.a)(h.a.mark((function e(t){var n,r,a,c,i,s,u,l,d,f;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r="".concat("https://immense-everglades-63113.herokuapp.com/api","/data"),e.next=4,fetch(r,{method:"GET",headers:{authorization:n}});case 4:if(!(a=e.sent).ok){e.next=12;break}return e.next=8,a.json();case 8:for(i in c=e.sent){s=Object(o.a)(c[i]);try{for(s.s();!(u=s.n()).done;)l=u.value,d=l.puzzleId,f="".concat(i,"-instance-data-").concat(d),sessionStorage.setItem(f,JSON.stringify(l))}catch(h){s.e(h)}finally{s.f()}}e.next=13;break;case 12:console.log("HTTP error, status = ".concat(a.status));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e){return e.replace(/^.|\W./g,(function(e){return e.toUpperCase()}))}g.a.render(Object(j.jsx)(v.a.StrictMode,{children:Object(j.jsx)(ht,{})}),document.getElementById("root"))}},[[265,1,2]]]);
//# sourceMappingURL=main.db274857.chunk.js.map