(this["webpackJsonpstudent-app"]=this["webpackJsonpstudent-app"]||[]).push([[0],{146:function(e,t){},148:function(e,t){},162:function(e,t){},164:function(e,t){},192:function(e,t){},194:function(e,t){},195:function(e,t){},201:function(e,t){},203:function(e,t){},221:function(e,t){},223:function(e,t){},235:function(e,t){},238:function(e,t){},259:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"name",(function(){return g})),n.d(r,"id",(function(){return y})),n.d(r,"Page",(function(){return k})),n.d(r,"POTDPreview",(function(){return z})),n.d(r,"ListPreview",(function(){return N}));var c={};n.r(c),n.d(c,"Page",(function(){return U})),n.d(c,"name",(function(){return q})),n.d(c,"id",(function(){return G})),n.d(c,"ListPreview",(function(){return D}));var s=n(10),a=n(0),o=n(1),u=n.n(o),i=n(133),l=n.n(i),d=n(70),j=n(5),b=n(136),f=n(8),h=n.n(f),p=n(15),v=n(134),O=n.n(v),x=u.a.createContext({user:null,setUser:function(){}});function m(e){var t=Object(o.useState)(),n=Object(s.a)(t,2),r=n[0],c=n[1],u=Object(o.useState)(),i=Object(s.a)(u,2),l=i[0],d=i[1],j=Object(o.useContext)(x).setUser,b=function(e,t){e(t.target.value)},f=function(){var t=Object(p.a)(h.a.mark((function t(n){var c,s,a,o,u,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={first:r,last:l},s="".concat("mongodb+srv://kbrdsk:wj7VyG6lQAALAX9W@cluster0.tyq4g.mongodb.net/student-work?retryWrites=true&w=majority","/students")+(n?"":"/login"),t.next=4,fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 4:if(!(a=t.sent).ok){t.next=20;break}return t.prev=6,t.next=9,a.json();case 9:o=t.sent.token,u=O.a.decode(o),i=u.student,j({token:o,student:i}),e.history.push("/"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(6),console.log(t.t0);case 18:t.next=21;break;case 20:console.log("HTTP error, status = "+a.status);case 21:case"end":return t.stop()}}),t,null,[[6,15]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"login-container",children:Object(a.jsxs)("div",{className:"login-window",children:[Object(a.jsxs)("div",{className:"name-container first",children:[Object(a.jsx)("label",{htmlFor:"firstname",children:"First Name:"}),Object(a.jsx)("input",{type:"text",name:"firstname",id:"firstname",onChange:b.bind(null,c)})]}),Object(a.jsxs)("div",{className:"name-container last",children:[Object(a.jsx)("label",{htmlFor:"lastname",children:"Last Name:"}),Object(a.jsx)("input",{type:"text",name:"lasname",id:"lasname",onChange:b.bind(null,d)})]}),Object(a.jsx)("button",{className:"create-student",onClick:function(){return f(!0)},children:"Create"}),Object(a.jsx)("button",{className:"login-student",onClick:function(){return f(!1)},children:"Log-In"})]})})}function k(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1],u=Object(o.useState)(!1),i=Object(s.a)(u,2),l=i[0],d=i[1],j=Object(o.useContext)(x).user.token,b="".concat("mongodb+srv://kbrdsk:wj7VyG6lQAALAX9W@cluster0.tyq4g.mongodb.net/student-work?retryWrites=true&w=majority","/puzzles/Test/0");return Object(o.useEffect)((function(){l||Object(p.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b,{method:"GET",headers:{authorization:j}});case 2:if(!(t=e.sent).ok){e.next=17;break}return e.prev=4,e.next=7,t.json();case 7:n=e.sent,c(n.work.solved),d(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:e.next=18;break;case 17:console.log("HTTP error, status = "+t.status);case 18:case"end":return e.stop()}}),e,null,[[4,12]])})))()})),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Test Puzzle"}),l?Object(a.jsxs)("p",{children:[Object(a.jsx)("label",{htmlFor:"testsolved",children:"Solved: "}),Object(a.jsx)("input",{type:"checkbox",name:"testsolved",id:"testsolved",defaultChecked:r,onClick:function(e){console.log(e.target.checked);var t=e.target.checked;!function(e,t,n){w.apply(this,arguments)}(j,{solved:t},b),c(t)}})]}):null]})}function w(){return(w=Object(p.a)(h.a.mark((function e(t,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",authorization:t},body:JSON.stringify({puzzleData:n})});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g="Test Puzzle",y="test";function z(){return Object(a.jsx)("div",{className:"potd-preview",children:"Test puzzle! Is it solved????"})}function N(){return Object(a.jsx)("div",{className:"list-preview",children:"Solved?"})}var C=n(35);function T(e){var t=e.history,n=e.instanceList;return Object(a.jsx)("div",{className:"calcudoku-page-container",children:Object(a.jsxs)("div",{className:"instance-list-container",children:[Object(a.jsx)("h2",{children:"Calcudokus"}),Object(a.jsx)("ul",{children:n?n.map(P.bind(null,t)):null})]})})}function P(e,t){return Object(a.jsx)("li",{onClick:function(){return e.push("/calcudoku/".concat(t))},children:Object(a.jsx)("h3",{children:(n=t,n.replace(/^./,(function(e){return e.toUpperCase()})))})},t);var n}var A=n(73);function S(e){var t=e.name,n=Object(o.useState)(null),r=Object(s.a)(n,2),c=r[0],u=r[1],i=Object(o.useState)(null),l=Object(s.a)(i,2),d=l[0],j=l[1],b=Object(o.useState)(null),f=Object(s.a)(b,2),v=f[0],O=f[1],m=Object(o.useContext)(x).user.token,k="".concat("mongodb+srv://kbrdsk:wj7VyG6lQAALAX9W@cluster0.tyq4g.mongodb.net/student-work?retryWrites=true&w=majority","/puzzles/calcudoku/").concat(t);Object(o.useEffect)((function(){Object(p.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k,{method:"GET",headers:{authorization:m}});case 2:if(!(t=e.sent).ok){e.next=18;break}return e.prev=4,e.next=7,t.json();case 7:n=e.sent,u(n.size),j(L(n)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),j([]),console.log(e.t0);case 16:e.next=19;break;case 18:console.log("HTTP error, status = "+t.status);case 19:case"end":return e.stop()}}),e,null,[[4,12]])})))()}),[k,m]),Object(o.useEffect)((function(){var e="".concat("mongodb+srv://kbrdsk:wj7VyG6lQAALAX9W@cluster0.tyq4g.mongodb.net/student-work?retryWrites=true&w=majority","/activepuzzle");return Object(p.a)(h.a.mark((function n(){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:m},body:JSON.stringify({puzzleName:"calcudoku",puzzleId:t})});case 2:r=n.sent,console.log(r.status);case 4:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:m}})}}),[m,t]);var w=function(){var e=Object(p.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.map((function(e){return{col:e.col,row:e.row,value:e.value}})),e.next=3,fetch(k,{method:"PUT",headers:{"Content-Type":"application/json",authorization:m},body:JSON.stringify({puzzleData:t})});case 3:n=e.sent,console.log(n.status);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){var t=e.key;v&&(["Backspace","Delete"].includes(t)?v.value="":!isNaN(t)&&1<=t&&t<=c&&(v.value=t),j(Object(A.a)(d)),w())};Object(o.useEffect)((function(){return window.addEventListener("keydown",g),function(){return window.removeEventListener("keydown",g)}}));var y=function(e){return Object(a.jsx)("button",{className:"number-select",onClick:function(){v.value=e,j(Object(A.a)(d)),w()},children:e},"num".concat(e))};return Object(a.jsx)("div",{children:d?Object(a.jsxs)("div",{className:"puzzle-container",size:c,children:[Object(a.jsx)("div",{className:"grid-container",size:c,children:d.map((function(e){var t="calcudoku-square "+e.neighbors.join(" ")+(e===v?" active":"");return Object(a.jsxs)("div",{className:t,onClick:function(){return O(e)},children:[Object(a.jsxs)("div",{className:"cage-indicator",children:[e.result,e.operation]}),Object(a.jsx)("input",{type:"number",value:e.value||"",disabled:!0})]})}))}),Object(a.jsx)("div",{className:"number-select-container",children:new Array(c).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return y(r+1)}))})]}):null})}function L(e){var t=e.size,n=e.cages,r=e.work;return Array(Math.pow(t,2)).fill(null).map((function(){for(var e=arguments.length,c=new Array(e),s=0;s<e;s++)c[s]=arguments[s];var a=c[1],o=Math.floor(a/t),u=a%t,i=W({col:o,row:u}),l=r.find(i),d=n.find((function(e){return e.squares.find(i)})),j=E({col:o,row:u},d),b=d.squares.every((function(e){return e.col>=o&&e.row>=u})),f=b?d.result:null,h=b?d.operation:null,p=l?l.value:null;return{col:o,row:u,value:p,neighbors:j,result:f,operation:h}}))}function E(e,t){var n=[],r={"n-up":{col:e.col-1,row:e.row},"n-down":{col:e.col+1,row:e.row},"n-left":{col:e.col,row:e.row-1},"n-right":{col:e.col,row:e.row+1}};for(var c in r){var s=W(r[c]);t.squares.find(s)&&n.push(c)}return n}function W(e){var t=e.col,n=e.row;return function(e){return e.col===t&&e.row===n}}function U(e){var t=Object(o.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1],u=Object(o.useContext)(x).user.token,i=e.match;Object(o.useEffect)((function(){Object(p.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("mongodb+srv://kbrdsk:wj7VyG6lQAALAX9W@cluster0.tyq4g.mongodb.net/student-work?retryWrites=true&w=majority","/puzzles/calcudoku/"),e.next=3,fetch(t,{method:"GET",headers:{authorization:u}});case 3:if(!(n=e.sent).ok){e.next=17;break}return e.prev=5,e.next=8,n.json();case 8:r=e.sent,c(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:e.next=18;break;case 17:console.log("HTTP error, status = "+n.status);case 18:case"end":return e.stop()}}),e,null,[[5,12]])})))()}),[u]);return Object(a.jsxs)(j.d,{children:[r?r.map(function(e,t){return Object(a.jsx)(j.b,{path:"".concat(e.url,"/").concat(t),render:function(e){return Object(a.jsx)(S,Object(C.a)(Object(C.a)({},e),{},{name:t}))}},t)}.bind(null,i)):null,Object(a.jsx)(j.b,{exact:!0,path:i.url,render:function(e){return Object(a.jsx)(T,Object(C.a)(Object(C.a)({},e),{},{instanceList:r}))}})]})}var q="Calcudokus",G="calcudoku";function D(){return Object(a.jsx)("div",{className:"list-preview",children:"Find all calcudokus here"})}var J=[c,r],F="/calcudoku/sample",I=function(){return Object(a.jsx)("div",{className:"potd-preview",children:"Like Sudokus, but with a twist!"})};function Q(e){var t=e.history,n=Object(o.useContext)(x).user.token;return Object(a.jsxs)("div",{className:"dashboard-container",children:[Object(a.jsx)(V,{history:t,token:n}),Object(a.jsxs)("div",{className:"puzzle-list-container",children:[Object(a.jsx)("h2",{children:"Individual Work"}),Object(a.jsx)("ul",{children:J.map(X.bind(null,t,n))})]})]})}function V(e){var t=I;return Object(a.jsxs)("div",{className:"potd-container",onClick:function(){return e.history.push(F,{token:e.token})},children:[Object(a.jsx)("h2",{children:"Puzzle of the Day"}),Object(a.jsx)(t,{})]})}function X(e,t,n){return Object(a.jsxs)("li",{onClick:function(){return e.push("/".concat(n.id),{token:t})},children:[Object(a.jsx)("h3",{children:n.name}),n.ListPreview()]},n.id)}n(259);var H=Object(b.a)();function B(){var e=Object(o.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],c={user:n,setUser:r};return Object(a.jsx)(d.a,{history:H,children:Object(a.jsx)(x.Provider,{value:c,children:n?Object(a.jsxs)("div",{children:[Object(a.jsxs)("nav",{className:"main-nav",children:[Object(a.jsx)(M,{history:H}),Object(a.jsx)(K,{student:n.student,setUser:r})]}),Object(a.jsxs)(j.d,{children:[J.map(R),Object(a.jsx)(j.b,{path:"/login",component:m}),Object(a.jsx)(j.b,{path:"/",component:Q})]})]}):Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"/login",component:m}),Object(a.jsx)(j.b,{path:"/",children:Object(a.jsx)(j.a,{to:"/login"})})]})})})}function M(e){var t=e.history;return Object(a.jsx)("button",{className:"back-button",onClick:t.back,children:"Back"})}function K(e){var t=e.student,n=e.setUser;return Object(a.jsxs)("div",{className:"profile-bar",children:[Object(a.jsxs)("span",{className:"student-name",children:[Y(t.first)," ",Y(t.last)]}),Object(a.jsx)("button",{onClick:function(){return n(null)},className:"log-out",children:"Log Out"})]})}function R(e){return Object(a.jsx)(j.b,{path:"/".concat(e.id),component:e.Page},e.id)}function Y(e){return e.replace(/^./,(function(e){return e.toUpperCase()}))}l.a.render(Object(a.jsx)(u.a.StrictMode,{children:Object(a.jsx)(B,{})}),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.65250ab2.chunk.js.map